<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.6.3" />
<title>payton.scene.geometry.md2 API documentation</title>
<meta name="description" content="ID Software Quake 2 Model File
Some parts of this file is based on the original work from:
â€¦" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase;cursor:pointer}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{margin:40px auto;max-width:1200px;display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>payton.scene.geometry.md2</code></h1>
</header>
<section id="section-intro">
<p>ID Software Quake 2 Model File
Some parts of this file is based on the original work from:
<a href="https://github.com/adamlwgriffiths/PyMesh/tree/master/pymesh/md2">https://github.com/adamlwgriffiths/PyMesh/tree/master/pymesh/md2</a></p>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">&#34;&#34;&#34;
ID Software Quake 2 Model File
Some parts of this file is based on the original work from:
https://github.com/adamlwgriffiths/PyMesh/tree/master/pymesh/md2
&#34;&#34;&#34;
import os
import time
import numpy as np  # type: ignore
import struct
import logging

from typing import BinaryIO, Any, Optional, List, NamedTuple, Dict, cast, Type

from payton.scene.geometry.mesh import Mesh, Object
from payton.scene.light import Light
from payton.math.vector import plane_normal


_SIGNATURE = &#34;IDP2&#34;
_VERSION = 8


class MD2Header(NamedTuple):
    ident: bytes = b&#34;&#34;
    version: int = 0
    skin_width: int = 0
    skin_height: int = 0
    frame_size: int = 0
    num_skins: int = 0
    num_vertices: int = 0
    num_st: int = 0
    num_tris: int = 0
    num_glcmds: int = 0
    num_frames: int = 0
    offset_skins: int = 0
    offset_st: int = 0
    offset_tris: int = 0
    offset_frames: int = 0
    offset_glcmds: int = 0
    offset_end: int = 0


class MD2Frame(NamedTuple):
    name: str = &#34;&#34;
    vertices: np.ndarray = []
    normals: np.ndarray = []


class MD2TriangleLayout(NamedTuple):
    vertex_indices: np.ndarray = []
    tc_indices: np.ndarray = []


def read_block(b: BinaryIO, format_str: str, count: int):
    def chunks(data: bytes, size):
        offset = 0
        while offset &lt; len(data):
            yield_size = offset + size
            yield data[offset:yield_size]
            offset += size

    struct_length = struct.calcsize(format_str)
    total_length = struct_length * count
    data = b.read(total_length)
    if len(data) &lt; total_length:
        raise ValueError(&#34;MD2: Failed to read &#39;%d&#39; bytes&#34; % (total_length))
    return [
        struct.unpack(format_str, chunk)
        for chunk in chunks(data, struct_length)
    ]


def fix_skin_name(name: bytes) -&gt; str:
    name_str = name.decode(&#34;utf-8&#34;).replace(&#34;\x00&#34;, &#34;&#34;)
    name_parts = os.path.splitext(name_str)
    if name_parts[1].startswith(&#34;.pcx&#34;):
        return f&#34;{name_parts[0]}.pcx&#34;
    return name_str


class MD2(Mesh):
    &#34;&#34;&#34;
    MD2 File Format Loader
    I know that this is a pretty old file format. We can consider it as ancient
    On the other hand, our target on creating Payton is not to make a game
    engine.

    Also note that there might be some bugs, I give no guarantee here.
    As this is a generic class, I haven&#39;t defined any animations before hand.
    So to make things properly looping in your code, you need to set the
    animation frame ranges yourself. For instance, as you will see at the
    defined example, infantry has a perfect walking loop between frames 2-13

    Unlike original frame names, frames in this class starts from 0 and goes
    incremented by one.

    NOTE: There are some hard-coded pre-assumptions like the scale of the
    objects and they are just defined to look okay on a default scene.

    Example use case:

        .. include:: ../../../examples/basics/26_quake2.py
    &#34;&#34;&#34;

    def __init__(self, filename: str = &#34;&#34;, **kwargs: Any):
        &#34;&#34;&#34;Initialize the MD2 Object

        Args:
          filename: Filename to load
        &#34;&#34;&#34;
        super().__init__(**kwargs)
        self.header: MD2Header = MD2Header()
        self.triangle_layout = MD2TriangleLayout()
        self.skins: List[str] = []
        self.frames: List[MD2Frame] = []
        self.animation: str = &#34;&#34;
        self.animations: Dict[str, List] = {}

        self._active_frame: int = 0
        self._frame_rate: float = 0
        self._from_frame: int = 0
        self._to_frame: int = 0
        self._time: float = 0
        self._path: str = &#34;&#34;
        self._loop: bool = False

        if os.path.exists(filename):
            self.load_file(filename)

    def animate(
        self,
        animation_name: str,
        from_frame: int,
        to_frame: int,
        loop: bool = True,
    ):
        &#34;&#34;&#34;Set the model in motion

        Args:
          animation_name: Name of the animation to play
          from_frame: Loop starting frame
          to_frame: Loop ending frame
          loop: Loop the animation?
        &#34;&#34;&#34;
        self.animation = &#34;&#34;  # For thread safety
        if animation_name not in self.animations:
            logging.error(f&#34;Animation {animation_name} not found in object&#34;)
            return
        anim = self.animations[animation_name]
        if from_frame &lt; anim[0] or from_frame &gt; anim[1]:
            logging.error(f&#34;from_frame out of bounds&#34;)
            return
        if to_frame &lt; anim[0] or to_frame &gt; anim[1]:
            logging.error(f&#34;to_frame out of bounds&#34;)
            return
        self._loop = loop
        self._active_frame = from_frame
        self._from_frame = from_frame
        self._to_frame = to_frame
        self.animation = animation_name

    def render(
        self,
        proj: np.ndarray,
        view: np.ndarray,
        lights: List[Light],
        parent_matrix: Optional[np.ndarray] = None,
    ) -&gt; None:
        if not self._visible:
            return

        if self.has_missing_vao or self._needs_update:
            self.build()

        if self.animation == &#34;&#34;:
            for child in self.children:
                self.children[child].render(
                    proj, view, lights, self._model_matrix
                )
                return

        if self._time == 0:
            self._time = time.time()

        tdiff = time.time() - self._time
        if self._frame_rate == 0:
            self._frame_rate = 1 / (self._to_frame - self._from_frame)

        if tdiff &gt;= self._frame_rate:
            self._active_frame += 1
            if self._active_frame &gt; self._to_frame:
                if self._loop:
                    self._active_frame = self._from_frame
                else:
                    self._active_frame -= 1

            self._time = time.time()

        self.update_matrix(parent_matrix=parent_matrix)
        self.track()

        frame_name = f&#34;{self.animation}{self._active_frame}&#34;

        self.children[frame_name].render(
            proj, view, lights, self._model_matrix
        )

    def load_file(self, filename: str):
        if not os.path.exists(filename):
            raise BaseException(f&#34;File not found: {filename}&#34;)
        self._path = os.path.dirname(os.path.abspath(filename))
        with open(filename, &#34;rb&#34;) as f:
            self.load_buffer(f)

    def load_buffer(self, f: BinaryIO):
        self.read_header(f)
        self.read_skin(f)
        self.read_tex_coords(f)
        self.read_triangles(f)
        self.load_frames(f)
        self.compile()

    def read_triangles(self, f: BinaryIO):
        f.seek(self.header.offset_tris, os.SEEK_SET)
        triangles = np.array(
            read_block(f, &#34;&lt; 6H&#34;, self.header.num_tris), dtype=np.uint16
        )
        triangles.shape = (-1, 6)
        vertex_indices = triangles[:, :3]
        tc_indices = triangles[:, 3:]
        self.triangle_layout = MD2TriangleLayout(
            vertex_indices=vertex_indices, tc_indices=tc_indices
        )

    def compile(self):
        self.animations = {}
        for frame in self.frames:
            name = &#34;&#34;.join(i for i in frame.name if not i.isdigit())
            if name not in self.animations:
                self.animations[name] = [0, -1]
            self.animations[name][1] += 1
            num = self.animations[name][1]
            frame_name = f&#34;{name}{num}&#34;
            self.build_frame(frame, frame_name)

    def build_frame(self, frame_information: MD2Frame, name: str):
        mesh = Mesh()
        for i, tri in enumerate(self.triangle_layout.vertex_indices):
            v3 = frame_information.vertices[tri[0]].tolist()
            v2 = frame_information.vertices[tri[1]].tolist()
            v1 = frame_information.vertices[tri[2]].tolist()
            t3 = self._texcoords[self.triangle_layout.tc_indices[i][0]]
            t2 = self._texcoords[self.triangle_layout.tc_indices[i][1]]
            t1 = self._texcoords[self.triangle_layout.tc_indices[i][2]]
            normal = plane_normal(v1, v2, v3)
            mesh.add_triangle(
                vertices=[v1, v2, v3],
                normals=[normal, normal, normal],
                texcoords=[t1, t2, t3],
            )

        mesh.material.texture = os.path.join(
            self._path, os.path.basename(self.skins[0])
        )
        self.add_child(name, cast(Type[Object], mesh))

    def read_header(self, f: BinaryIO):
        self.header = MD2Header._make(read_block(f, &#34;&lt; 4s16l&#34;, 1)[0])

        if self.header.ident.decode(&#34;ascii&#34;) != _SIGNATURE:
            raise BaseException(&#34;MD2 Identifier is incorrect&#34;)
        if self.header.version != _VERSION:
            raise BaseException(&#34;Invalid Version&#34;)

    def read_skin(self, f: BinaryIO):
        f.seek(self.header.offset_skins, os.SEEK_SET)
        skin_struct = struct.Struct(&#34;&lt; %s&#34; % (&#34;64s&#34; * self.header.num_skins))

        self.skins = [
            fix_skin_name(skin)
            for skin in skin_struct.unpack(f.read(skin_struct.size))
        ]

    def read_tex_coords(self, f: BinaryIO):
        f.seek(self.header.offset_st, os.SEEK_SET)
        tcs = np.array(
            read_block(f, &#34;&lt; 2h&#34;, self.header.num_st), dtype=np.float
        )
        tcs.shape = (-1, 2)
        tcs /= [float(self.header.skin_width), float(self.header.skin_height)]
        self._texcoords = tcs

    def load_frames(self, f: BinaryIO):
        f.seek(self.header.offset_frames, os.SEEK_SET)
        self.frames = [
            self.read_frame(f) for x in range(self.header.num_frames)
        ]

    def read_frame(self, f: BinaryIO):
        frame_translations = np.array(read_block(f, &#34;&lt; 3f&#34;, 2), dtype=np.float)
        scale = frame_translations[0]
        translation = frame_translations[1]

        name = read_block(f, &#34;&lt; 16s&#34;, 1)[0][0]
        name = name.decode(&#34;ascii&#34;).strip(&#34;\x00&#34;).replace(&#34;\x00&#34;, &#34;&#34;)

        frame_vertex_data = np.array(
            read_block(f, &#34;&lt;4B&#34;, self.header.num_vertices), dtype=np.uint8
        )

        frame_vertex_data.shape = (-1, 4)

        vertices_short = frame_vertex_data[:, :3]
        vertices = vertices_short.astype(np.float)
        vertices.shape = (-1, 3)

        vertices *= scale
        vertices += (translation[0], translation[1], 0)
        vertices /= 20.0

        return MD2Frame(name=name, vertices=vertices)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="payton.scene.geometry.md2.fix_skin_name"><code class="name flex">
<span>def <span class="ident">fix_skin_name</span></span>(<span>name)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def fix_skin_name(name: bytes) -&gt; str:
    name_str = name.decode(&#34;utf-8&#34;).replace(&#34;\x00&#34;, &#34;&#34;)
    name_parts = os.path.splitext(name_str)
    if name_parts[1].startswith(&#34;.pcx&#34;):
        return f&#34;{name_parts[0]}.pcx&#34;
    return name_str</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.read_block"><code class="name flex">
<span>def <span class="ident">read_block</span></span>(<span>b, format_str, count)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def read_block(b: BinaryIO, format_str: str, count: int):
    def chunks(data: bytes, size):
        offset = 0
        while offset &lt; len(data):
            yield_size = offset + size
            yield data[offset:yield_size]
            offset += size

    struct_length = struct.calcsize(format_str)
    total_length = struct_length * count
    data = b.read(total_length)
    if len(data) &lt; total_length:
        raise ValueError(&#34;MD2: Failed to read &#39;%d&#39; bytes&#34; % (total_length))
    return [
        struct.unpack(format_str, chunk)
        for chunk in chunks(data, struct_length)
    ]</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="payton.scene.geometry.md2.MD2"><code class="flex name class">
<span>class <span class="ident">MD2</span></span>
<span>(</span><span>filename='', **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>MD2 File Format Loader
I know that this is a pretty old file format. We can consider it as ancient
On the other hand, our target on creating Payton is not to make a game
engine.</p>
<p>Also note that there might be some bugs, I give no guarantee here.
As this is a generic class, I haven't defined any animations before hand.
So to make things properly looping in your code, you need to set the
animation frame ranges yourself. For instance, as you will see at the
defined example, infantry has a perfect walking loop between frames 2-13</p>
<p>Unlike original frame names, frames in this class starts from 0 and goes
incremented by one.</p>
<p>NOTE: There are some hard-coded pre-assumptions like the scale of the
objects and they are just defined to look okay on a default scene.</p>
<p>Example use case:</p>
<pre><code>"""Quake 2 Model Test"""
import os
import sdl2
from payton.scene import Scene
from payton.scene.geometry import MD2
from payton.scene.controller import Controller


scene = Scene()
object_file = os.path.join(os.path.dirname(__file__), "infantry", "tris.md2")
model = MD2(filename=object_file)


class CustomKeyboardControls(Controller):
    def keyboard(self, event, scene):
        super().keyboard(event, scene)
        if event.type == sdl2.SDL_KEYUP:
            key = event.key.keysym.sym
            if key == sdl2.SDLK_UP:
                model.animate("walk", 2, 13)
            if key == sdl2.SDLK_DOWN:
                model.animate("death", 0, 19, False)


print(
    """
Hit Keyboard UP to walk
Hit Keyboard Down to death animation
"""
)


scene.add_object("infantry", model)
scene.controller = CustomKeyboardControls()
model.animate("walk", 2, 13)
scene.run()
</code></pre>
<p>Initialize the MD2 Object</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>filename</code></strong></dt>
<dd>Filename to load</dd>
</dl></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class MD2(Mesh):
    &#34;&#34;&#34;
    MD2 File Format Loader
    I know that this is a pretty old file format. We can consider it as ancient
    On the other hand, our target on creating Payton is not to make a game
    engine.

    Also note that there might be some bugs, I give no guarantee here.
    As this is a generic class, I haven&#39;t defined any animations before hand.
    So to make things properly looping in your code, you need to set the
    animation frame ranges yourself. For instance, as you will see at the
    defined example, infantry has a perfect walking loop between frames 2-13

    Unlike original frame names, frames in this class starts from 0 and goes
    incremented by one.

    NOTE: There are some hard-coded pre-assumptions like the scale of the
    objects and they are just defined to look okay on a default scene.

    Example use case:

        .. include:: ../../../examples/basics/26_quake2.py
    &#34;&#34;&#34;

    def __init__(self, filename: str = &#34;&#34;, **kwargs: Any):
        &#34;&#34;&#34;Initialize the MD2 Object

        Args:
          filename: Filename to load
        &#34;&#34;&#34;
        super().__init__(**kwargs)
        self.header: MD2Header = MD2Header()
        self.triangle_layout = MD2TriangleLayout()
        self.skins: List[str] = []
        self.frames: List[MD2Frame] = []
        self.animation: str = &#34;&#34;
        self.animations: Dict[str, List] = {}

        self._active_frame: int = 0
        self._frame_rate: float = 0
        self._from_frame: int = 0
        self._to_frame: int = 0
        self._time: float = 0
        self._path: str = &#34;&#34;
        self._loop: bool = False

        if os.path.exists(filename):
            self.load_file(filename)

    def animate(
        self,
        animation_name: str,
        from_frame: int,
        to_frame: int,
        loop: bool = True,
    ):
        &#34;&#34;&#34;Set the model in motion

        Args:
          animation_name: Name of the animation to play
          from_frame: Loop starting frame
          to_frame: Loop ending frame
          loop: Loop the animation?
        &#34;&#34;&#34;
        self.animation = &#34;&#34;  # For thread safety
        if animation_name not in self.animations:
            logging.error(f&#34;Animation {animation_name} not found in object&#34;)
            return
        anim = self.animations[animation_name]
        if from_frame &lt; anim[0] or from_frame &gt; anim[1]:
            logging.error(f&#34;from_frame out of bounds&#34;)
            return
        if to_frame &lt; anim[0] or to_frame &gt; anim[1]:
            logging.error(f&#34;to_frame out of bounds&#34;)
            return
        self._loop = loop
        self._active_frame = from_frame
        self._from_frame = from_frame
        self._to_frame = to_frame
        self.animation = animation_name

    def render(
        self,
        proj: np.ndarray,
        view: np.ndarray,
        lights: List[Light],
        parent_matrix: Optional[np.ndarray] = None,
    ) -&gt; None:
        if not self._visible:
            return

        if self.has_missing_vao or self._needs_update:
            self.build()

        if self.animation == &#34;&#34;:
            for child in self.children:
                self.children[child].render(
                    proj, view, lights, self._model_matrix
                )
                return

        if self._time == 0:
            self._time = time.time()

        tdiff = time.time() - self._time
        if self._frame_rate == 0:
            self._frame_rate = 1 / (self._to_frame - self._from_frame)

        if tdiff &gt;= self._frame_rate:
            self._active_frame += 1
            if self._active_frame &gt; self._to_frame:
                if self._loop:
                    self._active_frame = self._from_frame
                else:
                    self._active_frame -= 1

            self._time = time.time()

        self.update_matrix(parent_matrix=parent_matrix)
        self.track()

        frame_name = f&#34;{self.animation}{self._active_frame}&#34;

        self.children[frame_name].render(
            proj, view, lights, self._model_matrix
        )

    def load_file(self, filename: str):
        if not os.path.exists(filename):
            raise BaseException(f&#34;File not found: {filename}&#34;)
        self._path = os.path.dirname(os.path.abspath(filename))
        with open(filename, &#34;rb&#34;) as f:
            self.load_buffer(f)

    def load_buffer(self, f: BinaryIO):
        self.read_header(f)
        self.read_skin(f)
        self.read_tex_coords(f)
        self.read_triangles(f)
        self.load_frames(f)
        self.compile()

    def read_triangles(self, f: BinaryIO):
        f.seek(self.header.offset_tris, os.SEEK_SET)
        triangles = np.array(
            read_block(f, &#34;&lt; 6H&#34;, self.header.num_tris), dtype=np.uint16
        )
        triangles.shape = (-1, 6)
        vertex_indices = triangles[:, :3]
        tc_indices = triangles[:, 3:]
        self.triangle_layout = MD2TriangleLayout(
            vertex_indices=vertex_indices, tc_indices=tc_indices
        )

    def compile(self):
        self.animations = {}
        for frame in self.frames:
            name = &#34;&#34;.join(i for i in frame.name if not i.isdigit())
            if name not in self.animations:
                self.animations[name] = [0, -1]
            self.animations[name][1] += 1
            num = self.animations[name][1]
            frame_name = f&#34;{name}{num}&#34;
            self.build_frame(frame, frame_name)

    def build_frame(self, frame_information: MD2Frame, name: str):
        mesh = Mesh()
        for i, tri in enumerate(self.triangle_layout.vertex_indices):
            v3 = frame_information.vertices[tri[0]].tolist()
            v2 = frame_information.vertices[tri[1]].tolist()
            v1 = frame_information.vertices[tri[2]].tolist()
            t3 = self._texcoords[self.triangle_layout.tc_indices[i][0]]
            t2 = self._texcoords[self.triangle_layout.tc_indices[i][1]]
            t1 = self._texcoords[self.triangle_layout.tc_indices[i][2]]
            normal = plane_normal(v1, v2, v3)
            mesh.add_triangle(
                vertices=[v1, v2, v3],
                normals=[normal, normal, normal],
                texcoords=[t1, t2, t3],
            )

        mesh.material.texture = os.path.join(
            self._path, os.path.basename(self.skins[0])
        )
        self.add_child(name, cast(Type[Object], mesh))

    def read_header(self, f: BinaryIO):
        self.header = MD2Header._make(read_block(f, &#34;&lt; 4s16l&#34;, 1)[0])

        if self.header.ident.decode(&#34;ascii&#34;) != _SIGNATURE:
            raise BaseException(&#34;MD2 Identifier is incorrect&#34;)
        if self.header.version != _VERSION:
            raise BaseException(&#34;Invalid Version&#34;)

    def read_skin(self, f: BinaryIO):
        f.seek(self.header.offset_skins, os.SEEK_SET)
        skin_struct = struct.Struct(&#34;&lt; %s&#34; % (&#34;64s&#34; * self.header.num_skins))

        self.skins = [
            fix_skin_name(skin)
            for skin in skin_struct.unpack(f.read(skin_struct.size))
        ]

    def read_tex_coords(self, f: BinaryIO):
        f.seek(self.header.offset_st, os.SEEK_SET)
        tcs = np.array(
            read_block(f, &#34;&lt; 2h&#34;, self.header.num_st), dtype=np.float
        )
        tcs.shape = (-1, 2)
        tcs /= [float(self.header.skin_width), float(self.header.skin_height)]
        self._texcoords = tcs

    def load_frames(self, f: BinaryIO):
        f.seek(self.header.offset_frames, os.SEEK_SET)
        self.frames = [
            self.read_frame(f) for x in range(self.header.num_frames)
        ]

    def read_frame(self, f: BinaryIO):
        frame_translations = np.array(read_block(f, &#34;&lt; 3f&#34;, 2), dtype=np.float)
        scale = frame_translations[0]
        translation = frame_translations[1]

        name = read_block(f, &#34;&lt; 16s&#34;, 1)[0][0]
        name = name.decode(&#34;ascii&#34;).strip(&#34;\x00&#34;).replace(&#34;\x00&#34;, &#34;&#34;)

        frame_vertex_data = np.array(
            read_block(f, &#34;&lt;4B&#34;, self.header.num_vertices), dtype=np.uint8
        )

        frame_vertex_data.shape = (-1, 4)

        vertices_short = frame_vertex_data[:, :3]
        vertices = vertices_short.astype(np.float)
        vertices.shape = (-1, 3)

        vertices *= scale
        vertices += (translation[0], translation[1], 0)
        vertices /= 20.0

        return MD2Frame(name=name, vertices=vertices)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="payton.scene.geometry.mesh.Mesh" href="mesh.html#payton.scene.geometry.mesh.Mesh">Mesh</a></li>
<li><a title="payton.scene.geometry.base.Object" href="base.html#payton.scene.geometry.base.Object">Object</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="payton.scene.geometry.md2.MD2.animate"><code class="name flex">
<span>def <span class="ident">animate</span></span>(<span>self, animation_name, from_frame, to_frame, loop=True)</span>
</code></dt>
<dd>
<section class="desc"><p>Set the model in motion</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>animation_name</code></strong></dt>
<dd>Name of the animation to play</dd>
<dt><strong><code>from_frame</code></strong></dt>
<dd>Loop starting frame</dd>
<dt><strong><code>to_frame</code></strong></dt>
<dd>Loop ending frame</dd>
<dt><strong><code>loop</code></strong></dt>
<dd>Loop the animation?</dd>
</dl></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def animate(
    self,
    animation_name: str,
    from_frame: int,
    to_frame: int,
    loop: bool = True,
):
    &#34;&#34;&#34;Set the model in motion

    Args:
      animation_name: Name of the animation to play
      from_frame: Loop starting frame
      to_frame: Loop ending frame
      loop: Loop the animation?
    &#34;&#34;&#34;
    self.animation = &#34;&#34;  # For thread safety
    if animation_name not in self.animations:
        logging.error(f&#34;Animation {animation_name} not found in object&#34;)
        return
    anim = self.animations[animation_name]
    if from_frame &lt; anim[0] or from_frame &gt; anim[1]:
        logging.error(f&#34;from_frame out of bounds&#34;)
        return
    if to_frame &lt; anim[0] or to_frame &gt; anim[1]:
        logging.error(f&#34;to_frame out of bounds&#34;)
        return
    self._loop = loop
    self._active_frame = from_frame
    self._from_frame = from_frame
    self._to_frame = to_frame
    self.animation = animation_name</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.build_frame"><code class="name flex">
<span>def <span class="ident">build_frame</span></span>(<span>self, frame_information, name)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def build_frame(self, frame_information: MD2Frame, name: str):
    mesh = Mesh()
    for i, tri in enumerate(self.triangle_layout.vertex_indices):
        v3 = frame_information.vertices[tri[0]].tolist()
        v2 = frame_information.vertices[tri[1]].tolist()
        v1 = frame_information.vertices[tri[2]].tolist()
        t3 = self._texcoords[self.triangle_layout.tc_indices[i][0]]
        t2 = self._texcoords[self.triangle_layout.tc_indices[i][1]]
        t1 = self._texcoords[self.triangle_layout.tc_indices[i][2]]
        normal = plane_normal(v1, v2, v3)
        mesh.add_triangle(
            vertices=[v1, v2, v3],
            normals=[normal, normal, normal],
            texcoords=[t1, t2, t3],
        )

    mesh.material.texture = os.path.join(
        self._path, os.path.basename(self.skins[0])
    )
    self.add_child(name, cast(Type[Object], mesh))</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.compile"><code class="name flex">
<span>def <span class="ident">compile</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def compile(self):
    self.animations = {}
    for frame in self.frames:
        name = &#34;&#34;.join(i for i in frame.name if not i.isdigit())
        if name not in self.animations:
            self.animations[name] = [0, -1]
        self.animations[name][1] += 1
        num = self.animations[name][1]
        frame_name = f&#34;{name}{num}&#34;
        self.build_frame(frame, frame_name)</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.load_buffer"><code class="name flex">
<span>def <span class="ident">load_buffer</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def load_buffer(self, f: BinaryIO):
    self.read_header(f)
    self.read_skin(f)
    self.read_tex_coords(f)
    self.read_triangles(f)
    self.load_frames(f)
    self.compile()</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.load_file"><code class="name flex">
<span>def <span class="ident">load_file</span></span>(<span>self, filename)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def load_file(self, filename: str):
    if not os.path.exists(filename):
        raise BaseException(f&#34;File not found: {filename}&#34;)
    self._path = os.path.dirname(os.path.abspath(filename))
    with open(filename, &#34;rb&#34;) as f:
        self.load_buffer(f)</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.load_frames"><code class="name flex">
<span>def <span class="ident">load_frames</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def load_frames(self, f: BinaryIO):
    f.seek(self.header.offset_frames, os.SEEK_SET)
    self.frames = [
        self.read_frame(f) for x in range(self.header.num_frames)
    ]</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.read_frame"><code class="name flex">
<span>def <span class="ident">read_frame</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def read_frame(self, f: BinaryIO):
    frame_translations = np.array(read_block(f, &#34;&lt; 3f&#34;, 2), dtype=np.float)
    scale = frame_translations[0]
    translation = frame_translations[1]

    name = read_block(f, &#34;&lt; 16s&#34;, 1)[0][0]
    name = name.decode(&#34;ascii&#34;).strip(&#34;\x00&#34;).replace(&#34;\x00&#34;, &#34;&#34;)

    frame_vertex_data = np.array(
        read_block(f, &#34;&lt;4B&#34;, self.header.num_vertices), dtype=np.uint8
    )

    frame_vertex_data.shape = (-1, 4)

    vertices_short = frame_vertex_data[:, :3]
    vertices = vertices_short.astype(np.float)
    vertices.shape = (-1, 3)

    vertices *= scale
    vertices += (translation[0], translation[1], 0)
    vertices /= 20.0

    return MD2Frame(name=name, vertices=vertices)</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.read_header"><code class="name flex">
<span>def <span class="ident">read_header</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def read_header(self, f: BinaryIO):
    self.header = MD2Header._make(read_block(f, &#34;&lt; 4s16l&#34;, 1)[0])

    if self.header.ident.decode(&#34;ascii&#34;) != _SIGNATURE:
        raise BaseException(&#34;MD2 Identifier is incorrect&#34;)
    if self.header.version != _VERSION:
        raise BaseException(&#34;Invalid Version&#34;)</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.read_skin"><code class="name flex">
<span>def <span class="ident">read_skin</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def read_skin(self, f: BinaryIO):
    f.seek(self.header.offset_skins, os.SEEK_SET)
    skin_struct = struct.Struct(&#34;&lt; %s&#34; % (&#34;64s&#34; * self.header.num_skins))

    self.skins = [
        fix_skin_name(skin)
        for skin in skin_struct.unpack(f.read(skin_struct.size))
    ]</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.read_tex_coords"><code class="name flex">
<span>def <span class="ident">read_tex_coords</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def read_tex_coords(self, f: BinaryIO):
    f.seek(self.header.offset_st, os.SEEK_SET)
    tcs = np.array(
        read_block(f, &#34;&lt; 2h&#34;, self.header.num_st), dtype=np.float
    )
    tcs.shape = (-1, 2)
    tcs /= [float(self.header.skin_width), float(self.header.skin_height)]
    self._texcoords = tcs</code></pre>
</details>
</dd>
<dt id="payton.scene.geometry.md2.MD2.read_triangles"><code class="name flex">
<span>def <span class="ident">read_triangles</span></span>(<span>self, f)</span>
</code></dt>
<dd>
<section class="desc"></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">def read_triangles(self, f: BinaryIO):
    f.seek(self.header.offset_tris, os.SEEK_SET)
    triangles = np.array(
        read_block(f, &#34;&lt; 6H&#34;, self.header.num_tris), dtype=np.uint16
    )
    triangles.shape = (-1, 6)
    vertex_indices = triangles[:, :3]
    tc_indices = triangles[:, 3:]
    self.triangle_layout = MD2TriangleLayout(
        vertex_indices=vertex_indices, tc_indices=tc_indices
    )</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="payton.scene.geometry.mesh.Mesh" href="mesh.html#payton.scene.geometry.mesh.Mesh">Mesh</a></b></code>:
<ul class="hlist">
<li><code><a title="payton.scene.geometry.mesh.Mesh.absolute_vertices" href="base.html#payton.scene.geometry.base.Object.absolute_vertices">absolute_vertices</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.add_child" href="base.html#payton.scene.geometry.base.Object.add_child">add_child</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.add_material" href="base.html#payton.scene.geometry.base.Object.add_material">add_material</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.add_triangle" href="mesh.html#payton.scene.geometry.mesh.Mesh.add_triangle">add_triangle</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.bounding_radius" href="base.html#payton.scene.geometry.base.Object.bounding_radius">bounding_radius</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.build" href="base.html#payton.scene.geometry.base.Object.build">build</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.clear_triangles" href="mesh.html#payton.scene.geometry.mesh.Mesh.clear_triangles">clear_triangles</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.destroy" href="base.html#payton.scene.geometry.base.Object.destroy">destroy</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.direct_to" href="base.html#payton.scene.geometry.base.Object.direct_to">direct_to</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.direction" href="base.html#payton.scene.geometry.base.Object.direction">direction</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.fix_normals" href="mesh.html#payton.scene.geometry.mesh.Mesh.fix_normals">fix_normals</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.fix_texcoords" href="mesh.html#payton.scene.geometry.mesh.Mesh.fix_texcoords">fix_texcoords</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.forward" href="base.html#payton.scene.geometry.base.Object.forward">forward</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.position" href="base.html#payton.scene.geometry.base.Object.position">position</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.refresh" href="base.html#payton.scene.geometry.base.Object.refresh">refresh</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.render" href="base.html#payton.scene.geometry.base.Object.render">render</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.rotate_around_x" href="base.html#payton.scene.geometry.base.Object.rotate_around_x">rotate_around_x</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.rotate_around_y" href="base.html#payton.scene.geometry.base.Object.rotate_around_y">rotate_around_y</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.rotate_around_z" href="base.html#payton.scene.geometry.base.Object.rotate_around_z">rotate_around_z</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.scale" href="mesh.html#payton.scene.geometry.mesh.Mesh.scale">scale</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.select" href="base.html#payton.scene.geometry.base.Object.select">select</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.step_back" href="base.html#payton.scene.geometry.base.Object.step_back">step_back</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.to_absolute" href="base.html#payton.scene.geometry.base.Object.to_absolute">to_absolute</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.toggle_wireframe" href="base.html#payton.scene.geometry.base.Object.toggle_wireframe">toggle_wireframe</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.track" href="base.html#payton.scene.geometry.base.Object.track">track</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.update_matrix" href="base.html#payton.scene.geometry.base.Object.update_matrix">update_matrix</a></code></li>
<li><code><a title="payton.scene.geometry.mesh.Mesh.visible" href="base.html#payton.scene.geometry.base.Object.visible">visible</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="payton.scene.geometry.md2.MD2Frame"><code class="flex name class">
<span>class <span class="ident">MD2Frame</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>MD2Frame(name, vertices, normals)</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class MD2Frame(NamedTuple):
    name: str = &#34;&#34;
    vertices: np.ndarray = []
    normals: np.ndarray = []</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.tuple</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="payton.scene.geometry.md2.MD2Frame.name"><code class="name">var <span class="ident">name</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 0</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Frame.normals"><code class="name">var <span class="ident">normals</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 2</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Frame.vertices"><code class="name">var <span class="ident">vertices</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 1</p></section>
</dd>
</dl>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header"><code class="flex name class">
<span>class <span class="ident">MD2Header</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>MD2Header(ident, version, skin_width, skin_height, frame_size, num_skins, num_vertices, num_st, num_tris, num_glcmds, num_frames, offset_skins, offset_st, offset_tris, offset_frames, offset_glcmds, offset_end)</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class MD2Header(NamedTuple):
    ident: bytes = b&#34;&#34;
    version: int = 0
    skin_width: int = 0
    skin_height: int = 0
    frame_size: int = 0
    num_skins: int = 0
    num_vertices: int = 0
    num_st: int = 0
    num_tris: int = 0
    num_glcmds: int = 0
    num_frames: int = 0
    offset_skins: int = 0
    offset_st: int = 0
    offset_tris: int = 0
    offset_frames: int = 0
    offset_glcmds: int = 0
    offset_end: int = 0</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.tuple</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="payton.scene.geometry.md2.MD2Header.frame_size"><code class="name">var <span class="ident">frame_size</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 4</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.ident"><code class="name">var <span class="ident">ident</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 0</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.num_frames"><code class="name">var <span class="ident">num_frames</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 10</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.num_glcmds"><code class="name">var <span class="ident">num_glcmds</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 9</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.num_skins"><code class="name">var <span class="ident">num_skins</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 5</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.num_st"><code class="name">var <span class="ident">num_st</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 7</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.num_tris"><code class="name">var <span class="ident">num_tris</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 8</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.num_vertices"><code class="name">var <span class="ident">num_vertices</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 6</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.offset_end"><code class="name">var <span class="ident">offset_end</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 16</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.offset_frames"><code class="name">var <span class="ident">offset_frames</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 14</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.offset_glcmds"><code class="name">var <span class="ident">offset_glcmds</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 15</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.offset_skins"><code class="name">var <span class="ident">offset_skins</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 11</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.offset_st"><code class="name">var <span class="ident">offset_st</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 12</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.offset_tris"><code class="name">var <span class="ident">offset_tris</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 13</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.skin_height"><code class="name">var <span class="ident">skin_height</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 3</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.skin_width"><code class="name">var <span class="ident">skin_width</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 2</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2Header.version"><code class="name">var <span class="ident">version</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 1</p></section>
</dd>
</dl>
</dd>
<dt id="payton.scene.geometry.md2.MD2TriangleLayout"><code class="flex name class">
<span>class <span class="ident">MD2TriangleLayout</span></span>
<span>(</span><span>*args, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>MD2TriangleLayout(vertex_indices, tc_indices)</p></section>
<details class="source">
<summary>Source code</summary>
<pre><code class="python">class MD2TriangleLayout(NamedTuple):
    vertex_indices: np.ndarray = []
    tc_indices: np.ndarray = []</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.tuple</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="payton.scene.geometry.md2.MD2TriangleLayout.tc_indices"><code class="name">var <span class="ident">tc_indices</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 1</p></section>
</dd>
<dt id="payton.scene.geometry.md2.MD2TriangleLayout.vertex_indices"><code class="name">var <span class="ident">vertex_indices</span></code></dt>
<dd>
<section class="desc"><p>Alias for field number 0</p></section>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="payton.scene.geometry" href="index.html">payton.scene.geometry</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="payton.scene.geometry.md2.fix_skin_name" href="#payton.scene.geometry.md2.fix_skin_name">fix_skin_name</a></code></li>
<li><code><a title="payton.scene.geometry.md2.read_block" href="#payton.scene.geometry.md2.read_block">read_block</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="payton.scene.geometry.md2.MD2" href="#payton.scene.geometry.md2.MD2">MD2</a></code></h4>
<ul class="two-column">
<li><code><a title="payton.scene.geometry.md2.MD2.animate" href="#payton.scene.geometry.md2.MD2.animate">animate</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.build_frame" href="#payton.scene.geometry.md2.MD2.build_frame">build_frame</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.compile" href="#payton.scene.geometry.md2.MD2.compile">compile</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.load_buffer" href="#payton.scene.geometry.md2.MD2.load_buffer">load_buffer</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.load_file" href="#payton.scene.geometry.md2.MD2.load_file">load_file</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.load_frames" href="#payton.scene.geometry.md2.MD2.load_frames">load_frames</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.read_frame" href="#payton.scene.geometry.md2.MD2.read_frame">read_frame</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.read_header" href="#payton.scene.geometry.md2.MD2.read_header">read_header</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.read_skin" href="#payton.scene.geometry.md2.MD2.read_skin">read_skin</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.read_tex_coords" href="#payton.scene.geometry.md2.MD2.read_tex_coords">read_tex_coords</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2.read_triangles" href="#payton.scene.geometry.md2.MD2.read_triangles">read_triangles</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="payton.scene.geometry.md2.MD2Frame" href="#payton.scene.geometry.md2.MD2Frame">MD2Frame</a></code></h4>
<ul class="">
<li><code><a title="payton.scene.geometry.md2.MD2Frame.name" href="#payton.scene.geometry.md2.MD2Frame.name">name</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Frame.normals" href="#payton.scene.geometry.md2.MD2Frame.normals">normals</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Frame.vertices" href="#payton.scene.geometry.md2.MD2Frame.vertices">vertices</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="payton.scene.geometry.md2.MD2Header" href="#payton.scene.geometry.md2.MD2Header">MD2Header</a></code></h4>
<ul class="two-column">
<li><code><a title="payton.scene.geometry.md2.MD2Header.frame_size" href="#payton.scene.geometry.md2.MD2Header.frame_size">frame_size</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.ident" href="#payton.scene.geometry.md2.MD2Header.ident">ident</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.num_frames" href="#payton.scene.geometry.md2.MD2Header.num_frames">num_frames</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.num_glcmds" href="#payton.scene.geometry.md2.MD2Header.num_glcmds">num_glcmds</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.num_skins" href="#payton.scene.geometry.md2.MD2Header.num_skins">num_skins</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.num_st" href="#payton.scene.geometry.md2.MD2Header.num_st">num_st</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.num_tris" href="#payton.scene.geometry.md2.MD2Header.num_tris">num_tris</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.num_vertices" href="#payton.scene.geometry.md2.MD2Header.num_vertices">num_vertices</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.offset_end" href="#payton.scene.geometry.md2.MD2Header.offset_end">offset_end</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.offset_frames" href="#payton.scene.geometry.md2.MD2Header.offset_frames">offset_frames</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.offset_glcmds" href="#payton.scene.geometry.md2.MD2Header.offset_glcmds">offset_glcmds</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.offset_skins" href="#payton.scene.geometry.md2.MD2Header.offset_skins">offset_skins</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.offset_st" href="#payton.scene.geometry.md2.MD2Header.offset_st">offset_st</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.offset_tris" href="#payton.scene.geometry.md2.MD2Header.offset_tris">offset_tris</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.skin_height" href="#payton.scene.geometry.md2.MD2Header.skin_height">skin_height</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.skin_width" href="#payton.scene.geometry.md2.MD2Header.skin_width">skin_width</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2Header.version" href="#payton.scene.geometry.md2.MD2Header.version">version</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="payton.scene.geometry.md2.MD2TriangleLayout" href="#payton.scene.geometry.md2.MD2TriangleLayout">MD2TriangleLayout</a></code></h4>
<ul class="">
<li><code><a title="payton.scene.geometry.md2.MD2TriangleLayout.tc_indices" href="#payton.scene.geometry.md2.MD2TriangleLayout.tc_indices">tc_indices</a></code></li>
<li><code><a title="payton.scene.geometry.md2.MD2TriangleLayout.vertex_indices" href="#payton.scene.geometry.md2.MD2TriangleLayout.vertex_indices">vertex_indices</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.6.3</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>