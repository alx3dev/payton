<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>payton.scene.gui API documentation</title>
    <meta name="description" content="#Payton GUI Module" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">


    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Button">Button</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Button.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.add_triangle">add_triangle</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.clear_triangles">clear_triangles</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.click">click</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.draw">draw</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.draw_text">draw_text</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.fix_normals">fix_normals</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.fix_texcoords">fix_texcoords</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.scale">scale</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.set_parent_size">set_parent_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.to_dict">to_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.to_json">to_json</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.update_matrix">update_matrix</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.from_dict">from_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Button.from_json">from_json</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Hud">Hud</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Hud.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.set_font">set_font</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.set_size">set_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Hud.update_matrix">update_matrix</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Panel">Panel</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Panel.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.add_triangle">add_triangle</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.clear_triangles">clear_triangles</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.click">click</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.draw">draw</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.draw_text">draw_text</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.fix_normals">fix_normals</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.fix_texcoords">fix_texcoords</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.scale">scale</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.set_parent_size">set_parent_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.to_dict">to_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.to_json">to_json</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.update_matrix">update_matrix</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.from_dict">from_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Panel.from_json">from_json</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Rectangle">Rectangle</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.add_triangle">add_triangle</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.clear_triangles">clear_triangles</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.click">click</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.draw">draw</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.draw_text">draw_text</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.fix_normals">fix_normals</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.fix_texcoords">fix_texcoords</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.scale">scale</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.set_parent_size">set_parent_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.to_dict">to_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.to_json">to_json</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.update_matrix">update_matrix</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.from_dict">from_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Rectangle.from_json">from_json</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Shape2D">Shape2D</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.add_triangle">add_triangle</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.clear_triangles">clear_triangles</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.click">click</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.draw">draw</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.draw_text">draw_text</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.fix_normals">fix_normals</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.fix_texcoords">fix_texcoords</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.scale">scale</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.set_parent_size">set_parent_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.to_dict">to_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.to_json">to_json</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.update_matrix">update_matrix</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.from_dict">from_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Shape2D.from_json">from_json</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Text">Text</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Text.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.add_triangle">add_triangle</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.clear_triangles">clear_triangles</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.click">click</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.draw">draw</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.draw_text">draw_text</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.fix_normals">fix_normals</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.fix_texcoords">fix_texcoords</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.scale">scale</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.set_parent_size">set_parent_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.to_dict">to_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.to_json">to_json</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.update_matrix">update_matrix</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.from_dict">from_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Text.from_json">from_json</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Theme">Theme</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Theme.__init__">__init__</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.Window">Window</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.gui.Window.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.absolute_vertices">absolute_vertices</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.add_child">add_child</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.add_material">add_material</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.add_triangle">add_triangle</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.build">build</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.clear_triangles">clear_triangles</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.click">click</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.destroy">destroy</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.direct_to">direct_to</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.draw">draw</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.draw_text">draw_text</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.fix_normals">fix_normals</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.fix_texcoords">fix_texcoords</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.forward">forward</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.hide">hide</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.refresh">refresh</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.render">render</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.rotate_around_x">rotate_around_x</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.rotate_around_y">rotate_around_y</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.rotate_around_z">rotate_around_z</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.scale">scale</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.select">select</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.set_parent_size">set_parent_size</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.show">show</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.step_back">step_back</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.to_absolute">to_absolute</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.to_dict">to_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.to_json">to_json</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.toggle_wireframe">toggle_wireframe</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.track">track</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.update_matrix">update_matrix</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.from_dict">from_dict</a></li>
    <li class="mono"><a href="#payton.scene.gui.Window.from_json">from_json</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.gui.WindowAlignment">WindowAlignment</a></span>
        
        </li>
      </ul>
    </li>

    <li class="set"><h3><a href="#header-submodules">Sub-modules</a></h3>
      <ul>
        <li class="mono"><a href="base.m.html">payton.scene.gui.base</a></li>
        <li class="mono"><a href="help.m.html">payton.scene.gui.help</a></li>
        <li class="mono"><a href="window.m.html">payton.scene.gui.window</a></li>
      </ul>
    </li>
    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">payton.scene.gui</span> module</h1>
  <h1>Payton GUI Module</h1>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui" class="source">
    <div class="codehilite"><pre><span></span><span class="c1"># pylama:ignore=W</span>
<span class="sd">&quot;&quot;&quot;#Payton GUI Module</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">payton.scene.gui.base</span> <span class="kn">import</span> <span class="n">Hud</span><span class="p">,</span> <span class="n">Rectangle</span><span class="p">,</span> <span class="n">Shape2D</span><span class="p">,</span> <span class="n">Text</span>
<span class="kn">from</span> <span class="nn">payton.scene.gui.window</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Button</span><span class="p">,</span>
    <span class="n">Panel</span><span class="p">,</span>
    <span class="n">Window</span><span class="p">,</span>
    <span class="n">WindowAlignment</span><span class="p">,</span>
    <span class="n">Theme</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Rectangle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Text&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Hud&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Window&quot;</span><span class="p">,</span>
    <span class="s2">&quot;WindowAlignment&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Panel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Button&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Theme&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">


    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="payton.scene.gui.Button" class="name">class <span class="ident">Button</span></p>
      
  
    <div class="desc"><p>Shape2D is the base of GUI primitives</p>
<p>An instance of <code>payton.scene.geometry.mesh.Mesh</code> so as a result of this,
you can use the material information to change the color and texture
of the shape.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Button</span><span class="p">(</span><span class="n">Panel</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
        <span class="n">left</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">align</span><span class="p">:</span> <span class="n">WindowAlignment</span> <span class="o">=</span> <span class="n">WindowAlignment</span><span class="o">.</span><span class="n">FREE</span><span class="p">,</span>
        <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Theme</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">on_click</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;on_click&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">on_click</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
            <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="p">,</span>
            <span class="n">align</span><span class="o">=</span><span class="n">align</span><span class="p">,</span>
            <span class="n">theme</span><span class="o">=</span><span class="n">theme</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span>
            <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">text_color</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text_size</span>
        <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span>

    <span class="nd">@label.setter</span>
    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="n">text</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Button">Button</a></li>
          <li><a href="#payton.scene.gui.Panel">Panel</a></li>
          <li><a href="window.m.html#payton.scene.gui.window.WindowElement">payton.scene.gui.window.WindowElement</a></li>
          <li><a href="#payton.scene.gui.Shape2D">Shape2D</a></li>
          <li>payton.scene.geometry.mesh.Mesh</li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, label, width=400, height=300, left=10, top=10, align=&lt;WindowAlignment.FREE: &#39;free&#39;&gt;, theme=None, on_click=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize Shape2D</p>
<p>Args:
  opacity: Opacity of the shape. (1: transparent)
  position: Position of the shape in screen. (0, 0 by default.)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">align</span><span class="p">:</span> <span class="n">WindowAlignment</span> <span class="o">=</span> <span class="n">WindowAlignment</span><span class="o">.</span><span class="n">FREE</span><span class="p">,</span>
    <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Theme</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">on_click</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;on_click&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">on_click</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
        <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="p">,</span>
        <span class="n">align</span><span class="o">=</span><span class="n">align</span><span class="p">,</span>
        <span class="n">theme</span><span class="o">=</span><span class="n">theme</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_label</span> <span class="o">=</span> <span class="n">label</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span>
        <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
        <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">text_color</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to the shape, childs position will be relative to its
parent shape and will be rendered on top of it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Shape2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">total_v</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">exceed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">exceed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">exceed</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">total_v</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">exceed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">exceed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">exceed</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.add_triangle">
    <p>def <span class="ident">add_triangle</span>(</p><p>self, vertices, material=&#39;default&#39;, normals=None, texcoords=None, colors=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Add triangle to Mesh</p>
<p>Args:
  vertices: Vertices of the triangle. This is required. Ex:
            <code>[[0, 0, 0], [2, 0, 0], [1, 1, 0]]</code>
  normals: Normals of the triangle. <em>(When left as None, Payton will
           calculate the surface normal based on vertices and assign
           it per given vertex.)</em>
  material: Name of the material to use.
  texcoords: Texture UV coordinates.
  colors: Per vertex colors (optional)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.add_triangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.add_triangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_triangle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">vertices</span><span class="p">:</span> <span class="n">VList</span><span class="p">,</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT</span><span class="p">,</span>
    <span class="n">normals</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">texcoords</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add triangle to Mesh</span>
<span class="sd">    Args:</span>
<span class="sd">      vertices: Vertices of the triangle. This is required. Ex:</span>
<span class="sd">                `[[0, 0, 0], [2, 0, 0], [1, 1, 0]]`</span>
<span class="sd">      normals: Normals of the triangle. _(When left as None, Payton will</span>
<span class="sd">               calculate the surface normal based on vertices and assign</span>
<span class="sd">               it per given vertex.)_</span>
<span class="sd">      material: Name of the material to use.</span>
<span class="sd">      texcoords: Texture UV coordinates.</span>
<span class="sd">      colors: Per vertex colors (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A triangle must have 3 vertices&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one normal per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">texcoords</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one texcoord per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span><span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">+=</span> <span class="n">vertices</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texcoords</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.clear_triangles">
    <p>def <span class="ident">clear_triangles</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear all triangles inside the Mesh</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.clear_triangles', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.clear_triangles" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_triangles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clear all triangles inside the Mesh&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.click">
    <p>def <span class="ident">click</span>(</p><p>self, x, y)</p>
    </div>
    

    
  
    <div class="desc"><p>Click trigger function</p>
<p><strong>IMPORTANT!!</strong></p>
<p>Basically, this is getting called from
<code>payton.scene.controller.Controller</code> so if you overwrite the
controller, remember that your GUI callbacks will not work unless
you handle them yourself or you call the <code>super()</code> for mouse action</p>
<p>Args:
  x: Mouse X coordinate
  y: Mouse Y coordinate</p>
<p>Returns:
  bool: Hit</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.click', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.click" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Click trigger function</span>
<span class="sd">    **IMPORTANT!!**</span>
<span class="sd">    Basically, this is getting called from</span>
<span class="sd">    `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">    controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">    you handle them yourself or you call the `super()` for mouse action</span>
<span class="sd">    Args:</span>
<span class="sd">      x: Mouse X coordinate</span>
<span class="sd">      y: Mouse Y coordinate</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: Hit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
            <span class="p">)</span>  <span class="c1"># type: bool</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.draw">
    <p>def <span class="ident">draw</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.draw', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">text_size</span>
    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">label</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_label</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.draw_text">
    <p>def <span class="ident">draw_text</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw text function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.draw_text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.draw_text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Placeholder for draw text function&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.fix_normals">
    <p>def <span class="ident">fix_normals</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to re-calculate Mesh normals, if your object has already perfect
normals, do not call this method</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.fix_normals', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.fix_normals" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_normals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to re-calculate Mesh normals, if your object has already perfect</span>
<span class="sd">    normals, do not call this method&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.fix_texcoords">
    <p>def <span class="ident">fix_texcoords</span>(</p><p>self, u=1, v=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to recalculate mesh texture coordinates by cube projection</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.fix_texcoords', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.fix_texcoords" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_texcoords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to recalculate mesh texture coordinates by cube projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_box</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># front</span>
        <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># right</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># left</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># back</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># top</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># bottom</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="c1"># find face normal</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="c1"># determine which face of the cube</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">vector_angle</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">]</span>
        <span class="n">face_dir</span> <span class="o">=</span> <span class="n">angles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">angles</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.render">
    <p>def <span class="ident">render</span>(</p><p>self, proj, view, lights, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Render the Text</p>
<p>This calls the render method of
<code>payton.scene.geometry.base.Object.render</code> then renders the text on top
of the rectangle.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
    <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Render the Text</span>
<span class="sd">    This calls the render method of</span>
<span class="sd">    `payton.scene.geometry.base.Object.render` then renders the text on top</span>
<span class="sd">    of the rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.scale">
    <p>def <span class="ident">scale</span>(</p><p>self, x, y, z)</p>
    </div>
    

    
  
    <div class="desc"><p>Scale Mesh by given factors</p>
<p>This does not create a scale matrix and multiply existing matrix
with it. Instead, it will scale the vertices by given factors.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.scale', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Scale Mesh by given factors</span>
<span class="sd">    This does not create a scale matrix and multiply existing matrix</span>
<span class="sd">    with it. Instead, it will scale the vertices by given factors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fix_normals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.set_parent_size">
    <p>def <span class="ident">set_parent_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.set_parent_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.set_parent_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.to_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.to_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span>
        <span class="s2">&quot;normals&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span>
        <span class="s2">&quot;texcoords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span>
        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span>
        <span class="s2">&quot;materials&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">mat</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">mat</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span>
        <span class="p">},</span>
        <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="n">cast</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">Mesh</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.to_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.to_json" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Button.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            

            
  
    <div class="desc"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.direction" class="name">var <span class="ident">direction</span></p>
            

            
  
    <div class="desc"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.font" class="name">var <span class="ident">font</span></p>
            

            
  
    <div class="desc"><p>Font of the shape</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.label" class="name">var <span class="ident">label</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.position" class="name">var <span class="ident">position</span></p>
            

            
  
    <div class="desc"><p>Get position of the Object.</p>
<p>Return matrix position list</p>
<p>Returns:
  List[float]</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.text" class="name">var <span class="ident">text</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Button.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.from_dict">
    <p>def <span class="ident">from_dict</span>(</p><p>cls, d)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.from_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.from_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;normals&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;texcoords&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;matrix&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="n">Material</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">res</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Button.from_json">
    <p>def <span class="ident">from_json</span>(</p><p>cls, jstr)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Button.from_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Button.from_json" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jstr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jstr</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Hud" class="name">class <span class="ident">Hud</span></p>
      
  
    <div class="desc"><p>Main 2D Hud</p>
<p>HUD stands for Heads Up Display and it is the Graphical User Interface
layer on top of your 3D Scene. HUDs are rendered after your 3D Scene by
disabling Depth Test. So, order of drawing is an important factor here.</p>
<p>You can create a HUD for debugging reasons. If you want to use any 2D
primitives, you need to add it into a HUD.</p>
<p>One HUD is enough to handle all your 2D drawings but it is not restricted
to one in the scene.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Hud</span><span class="p">(</span><span class="n">Object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Main 2D Hud</span>

<span class="sd">    HUD stands for Heads Up Display and it is the Graphical User Interface</span>
<span class="sd">    layer on top of your 3D Scene. HUDs are rendered after your 3D Scene by</span>
<span class="sd">    disabling Depth Test. So, order of drawing is an important factor here.</span>

<span class="sd">    You can create a HUD for debugging reasons. If you want to use any 2D</span>
<span class="sd">    primitives, you need to add it into a HUD.</span>

<span class="sd">    One HUD is enough to handle all your 2D drawings but it is not restricted</span>
<span class="sd">    to one in the scene.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span>
        <span class="n">font</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize HUD</span>

<span class="sd">        Args:</span>
<span class="sd">          width: Window width (overriden by Scene on add_object)</span>
<span class="sd">          height: Window height (overriden by Scene on add_object)</span>
<span class="sd">          font: Path to font file (See:</span>
<span class="sd">            https://pillow.readthedocs.io/en/3.1.x/reference/ImageFont.html)</span>
<span class="sd">          font_size: Font size</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fontname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Shape2D</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">font_size</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fontname</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_font</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">:</span> <span class="n">ImageFont</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_font</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="s2">&quot;monofonto.ttf&quot;</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">font</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ImageFont</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font</span>

    <span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Shape2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
        <span class="sd">&quot;&quot;&quot;Add child to HUD</span>

<span class="sd">        Basically, anything that you want to draw on the screen should be a</span>
<span class="sd">        child of HUD. Scene gathers HUDs in a different loop and renders them</span>
<span class="sd">        in a separate cycle.</span>

<span class="sd">        Args:</span>
<span class="sd">          name: Name of the child shape</span>
<span class="sd">          obj: Shape object to add</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_scene_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">_scene_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">res</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">res</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">_args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Render HUD</span>

<span class="sd">        Disables depth test and renders child primitives</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">:</span>
            <span class="k">return</span>
        <span class="n">glDisable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span> <span class="o">=</span> <span class="n">ortho</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Set size of the HUD view</span>

<span class="sd">        Args:</span>
<span class="sd">          w: Width of the viewport</span>
<span class="sd">          h: Height of the viewport</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">h</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">cast</span><span class="p">(</span><span class="n">Shape2D</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
            <span class="n">child</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="n">child</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span> <span class="o">=</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">set_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set font of the HUD</span>

<span class="sd">        Args:</span>
<span class="sd">          font_name: Path to the font file. TrueType or OpenType fonts are</span>
<span class="sd">            also supported.</span>
<span class="sd">          font_size: Font size.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="n">font_name</span><span class="p">,</span> <span class="n">font_size</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Hud">Hud</a></li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, width=800, height=600, font=&#39;&#39;, font_size=15, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize HUD</p>
<p>Args:
  width: Window width (overriden by Scene on add_object)
  height: Window height (overriden by Scene on add_object)
  font: Path to font file (See:
    https://pillow.readthedocs.io/en/3.1.x/reference/ImageFont.html)
  font_size: Font size</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span>
    <span class="n">font</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize HUD</span>
<span class="sd">    Args:</span>
<span class="sd">      width: Window width (overriden by Scene on add_object)</span>
<span class="sd">      height: Window height (overriden by Scene on add_object)</span>
<span class="sd">      font: Path to font file (See:</span>
<span class="sd">        https://pillow.readthedocs.io/en/3.1.x/reference/ImageFont.html)</span>
<span class="sd">      font_size: Font size</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">height</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fontname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">font</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Shape2D</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: ignore</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">font_size</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fontname</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_font</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fontname</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font_size</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">:</span> <span class="n">ImageFont</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_font</span><span class="p">(</span>
        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="s2">&quot;monofonto.ttf&quot;</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to HUD</p>
<p>Basically, anything that you want to draw on the screen should be a
child of HUD. Scene gathers HUDs in a different loop and renders them
in a separate cycle.</p>
<p>Args:
  name: Name of the child shape
  obj: Shape object to add</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Shape2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="sd">&quot;&quot;&quot;Add child to HUD</span>
<span class="sd">    Basically, anything that you want to draw on the screen should be a</span>
<span class="sd">    child of HUD. Scene gathers HUDs in a different loop and renders them</span>
<span class="sd">    in a separate cycle.</span>
<span class="sd">    Args:</span>
<span class="sd">      name: Name of the child shape</span>
<span class="sd">      obj: Shape object to add</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_scene_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">_scene_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">res</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.render">
    <p>def <span class="ident">render</span>(</p><p>self, *_args)</p>
    </div>
    

    
  
    <div class="desc"><p>Render HUD</p>
<p>Disables depth test and renders child primitives</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">_args</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Render HUD</span>
<span class="sd">    Disables depth test and renders child primitives</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="n">glDisable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span> <span class="o">=</span> <span class="n">ortho</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="p">[])</span>
    <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.set_font">
    <p>def <span class="ident">set_font</span>(</p><p>self, font_name, font_size=16)</p>
    </div>
    

    
  
    <div class="desc"><p>Set font of the HUD</p>
<p>Args:
  font_name: Path to the font file. TrueType or OpenType fonts are
    also supported.
  font_size: Font size.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.set_font', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.set_font" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">font_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">16</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Set font of the HUD</span>
<span class="sd">    Args:</span>
<span class="sd">      font_name: Path to the font file. TrueType or OpenType fonts are</span>
<span class="sd">        also supported.</span>
<span class="sd">      font_size: Font size.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="o">.</span><span class="n">truetype</span><span class="p">(</span><span class="n">font_name</span><span class="p">,</span> <span class="n">font_size</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.set_size">
    <p>def <span class="ident">set_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
    <div class="desc"><p>Set size of the HUD view</p>
<p>Args:
  w: Width of the viewport
  h: Height of the viewport</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.set_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.set_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Set size of the HUD view</span>
<span class="sd">    Args:</span>
<span class="sd">      w: Width of the viewport</span>
<span class="sd">      h: Height of the viewport</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="n">Shape2D</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
        <span class="n">child</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="n">child</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_projection_matrix</span> <span class="o">=</span> <span class="bp">None</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Hud.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Hud.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Hud.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Hud.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            

            
  
    <div class="desc"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Hud.direction" class="name">var <span class="ident">direction</span></p>
            

            
  
    <div class="desc"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Hud.font" class="name">var <span class="ident">font</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Hud.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Hud.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Hud.position" class="name">var <span class="ident">position</span></p>
            

            
  
    <div class="desc"><p>Get position of the Object.</p>
<p>Return matrix position list</p>
<p>Returns:
  List[float]</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Hud.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Panel" class="name">class <span class="ident">Panel</span></p>
      
  
    <div class="desc"><p>Shape2D is the base of GUI primitives</p>
<p>An instance of <code>payton.scene.geometry.mesh.Mesh</code> so as a result of this,
you can use the material information to change the color and texture
of the shape.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Panel</span><span class="p">(</span><span class="n">WindowElement</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span>
                <span class="p">],</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Panel">Panel</a></li>
          <li><a href="window.m.html#payton.scene.gui.window.WindowElement">payton.scene.gui.window.WindowElement</a></li>
          <li><a href="#payton.scene.gui.Shape2D">Shape2D</a></li>
          <li>payton.scene.geometry.mesh.Mesh</li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, width=400, height=300, left=10, top=10, align=&lt;WindowAlignment.FREE: &#39;free&#39;&gt;, theme=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize Shape2D</p>
<p>Args:
  opacity: Opacity of the shape. (1: transparent)
  position: Position of the shape in screen. (0, 0 by default.)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">align</span><span class="p">:</span> <span class="n">WindowAlignment</span> <span class="o">=</span> <span class="n">WindowAlignment</span><span class="o">.</span><span class="n">FREE</span><span class="p">,</span>
    <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Theme</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;position&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;size&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">align</span> <span class="o">=</span> <span class="n">align</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span> <span class="o">=</span> <span class="n">theme</span> <span class="k">if</span> <span class="n">theme</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">Theme</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">opacity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">opacity</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to the shape, childs position will be relative to its
parent shape and will be rendered on top of it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Shape2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">total_v</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">exceed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">exceed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">exceed</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">total_v</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">exceed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">exceed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">exceed</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.add_triangle">
    <p>def <span class="ident">add_triangle</span>(</p><p>self, vertices, material=&#39;default&#39;, normals=None, texcoords=None, colors=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Add triangle to Mesh</p>
<p>Args:
  vertices: Vertices of the triangle. This is required. Ex:
            <code>[[0, 0, 0], [2, 0, 0], [1, 1, 0]]</code>
  normals: Normals of the triangle. <em>(When left as None, Payton will
           calculate the surface normal based on vertices and assign
           it per given vertex.)</em>
  material: Name of the material to use.
  texcoords: Texture UV coordinates.
  colors: Per vertex colors (optional)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.add_triangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.add_triangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_triangle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">vertices</span><span class="p">:</span> <span class="n">VList</span><span class="p">,</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT</span><span class="p">,</span>
    <span class="n">normals</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">texcoords</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add triangle to Mesh</span>
<span class="sd">    Args:</span>
<span class="sd">      vertices: Vertices of the triangle. This is required. Ex:</span>
<span class="sd">                `[[0, 0, 0], [2, 0, 0], [1, 1, 0]]`</span>
<span class="sd">      normals: Normals of the triangle. _(When left as None, Payton will</span>
<span class="sd">               calculate the surface normal based on vertices and assign</span>
<span class="sd">               it per given vertex.)_</span>
<span class="sd">      material: Name of the material to use.</span>
<span class="sd">      texcoords: Texture UV coordinates.</span>
<span class="sd">      colors: Per vertex colors (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A triangle must have 3 vertices&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one normal per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">texcoords</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one texcoord per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span><span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">+=</span> <span class="n">vertices</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texcoords</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.clear_triangles">
    <p>def <span class="ident">clear_triangles</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear all triangles inside the Mesh</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.clear_triangles', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.clear_triangles" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_triangles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clear all triangles inside the Mesh&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.click">
    <p>def <span class="ident">click</span>(</p><p>self, x, y)</p>
    </div>
    

    
  
    <div class="desc"><p>Click trigger function</p>
<p><strong>IMPORTANT!!</strong></p>
<p>Basically, this is getting called from
<code>payton.scene.controller.Controller</code> so if you overwrite the
controller, remember that your GUI callbacks will not work unless
you handle them yourself or you call the <code>super()</code> for mouse action</p>
<p>Args:
  x: Mouse X coordinate
  y: Mouse Y coordinate</p>
<p>Returns:
  bool: Hit</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.click', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.click" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Click trigger function</span>
<span class="sd">    **IMPORTANT!!**</span>
<span class="sd">    Basically, this is getting called from</span>
<span class="sd">    `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">    controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">    you handle them yourself or you call the `super()` for mouse action</span>
<span class="sd">    Args:</span>
<span class="sd">      x: Mouse X coordinate</span>
<span class="sd">      y: Mouse Y coordinate</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: Hit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
            <span class="p">)</span>  <span class="c1"># type: bool</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.draw">
    <p>def <span class="ident">draw</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.draw', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.draw_text">
    <p>def <span class="ident">draw_text</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw text function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.draw_text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.draw_text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Placeholder for draw text function&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.fix_normals">
    <p>def <span class="ident">fix_normals</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to re-calculate Mesh normals, if your object has already perfect
normals, do not call this method</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.fix_normals', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.fix_normals" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_normals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to re-calculate Mesh normals, if your object has already perfect</span>
<span class="sd">    normals, do not call this method&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.fix_texcoords">
    <p>def <span class="ident">fix_texcoords</span>(</p><p>self, u=1, v=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to recalculate mesh texture coordinates by cube projection</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.fix_texcoords', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.fix_texcoords" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_texcoords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to recalculate mesh texture coordinates by cube projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_box</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># front</span>
        <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># right</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># left</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># back</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># top</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># bottom</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="c1"># find face normal</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="c1"># determine which face of the cube</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">vector_angle</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">]</span>
        <span class="n">face_dir</span> <span class="o">=</span> <span class="n">angles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">angles</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.render">
    <p>def <span class="ident">render</span>(</p><p>self, proj, view, lights, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Render the Text</p>
<p>This calls the render method of
<code>payton.scene.geometry.base.Object.render</code> then renders the text on top
of the rectangle.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
    <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Render the Text</span>
<span class="sd">    This calls the render method of</span>
<span class="sd">    `payton.scene.geometry.base.Object.render` then renders the text on top</span>
<span class="sd">    of the rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.scale">
    <p>def <span class="ident">scale</span>(</p><p>self, x, y, z)</p>
    </div>
    

    
  
    <div class="desc"><p>Scale Mesh by given factors</p>
<p>This does not create a scale matrix and multiply existing matrix
with it. Instead, it will scale the vertices by given factors.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.scale', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Scale Mesh by given factors</span>
<span class="sd">    This does not create a scale matrix and multiply existing matrix</span>
<span class="sd">    with it. Instead, it will scale the vertices by given factors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fix_normals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.set_parent_size">
    <p>def <span class="ident">set_parent_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.set_parent_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.set_parent_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.to_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.to_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span>
        <span class="s2">&quot;normals&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span>
        <span class="s2">&quot;texcoords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span>
        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span>
        <span class="s2">&quot;materials&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">mat</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">mat</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span>
        <span class="p">},</span>
        <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="n">cast</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">Mesh</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.to_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.to_json" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Panel.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="window.m.html#payton.scene.gui.window.WindowElement">payton.scene.gui.window.WindowElement</a></code>.<code><a href="window.m.html#payton.scene.gui.window.WindowElement.bounding_radius">payton.scene.gui.window.WindowElement.bounding_radius</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Panel.direction" class="name">var <span class="ident">direction</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#payton.scene.gui.Shape2D">Shape2D</a></code>.<code><a href="#payton.scene.gui.Shape2D.direction">direction</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Panel.font" class="name">var <span class="ident">font</span></p>
            

            
  
    <div class="desc"><p>Font of the shape</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Panel.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Panel.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Panel.position" class="name">var <span class="ident">position</span></p>
            

            
  
    <div class="desc"><p>Get position of the Object.</p>
<p>Return matrix position list</p>
<p>Returns:
  List[float]</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Panel.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.from_dict">
    <p>def <span class="ident">from_dict</span>(</p><p>cls, d)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.from_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.from_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;normals&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;texcoords&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;matrix&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="n">Material</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">res</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Panel.from_json">
    <p>def <span class="ident">from_json</span>(</p><p>cls, jstr)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Panel.from_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Panel.from_json" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jstr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jstr</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Rectangle" class="name">class <span class="ident">Rectangle</span></p>
      
  
    <div class="desc"><p>Rectangle primitive, an instance of <a href="#payton.scene.gui.Shape2D"><code>Shape2D</code></a></p>
<p>Args:
  size: Size of the rectangle.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">(</span><span class="n">Shape2D</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Rectangle primitive, an instance of `payton.scene.gui.Shape2D`</span>

<span class="sd">    Args:</span>
<span class="sd">      size: Size of the rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize the rectangle&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Draw the rectangle.</span>

<span class="sd">        Basically, this method gets called right after the initialization</span>
<span class="sd">        to build the rectangle buffer.</span>

<span class="sd">        Also, if you change the size of rectangle, you have to call this</span>
<span class="sd">        method again.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Rectangle">Rectangle</a></li>
          <li><a href="#payton.scene.gui.Shape2D">Shape2D</a></li>
          <li>payton.scene.geometry.mesh.Mesh</li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, position, size, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize the rectangle</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize the rectangle&quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to the shape, childs position will be relative to its
parent shape and will be rendered on top of it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="s2">&quot;Shape2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="sd">&quot;&quot;&quot;Add child to the shape, childs position will be relative to its</span>
<span class="sd">    parent shape and will be rendered on top of it.&quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">res</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.add_triangle">
    <p>def <span class="ident">add_triangle</span>(</p><p>self, vertices, material=&#39;default&#39;, normals=None, texcoords=None, colors=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Add triangle to Mesh</p>
<p>Args:
  vertices: Vertices of the triangle. This is required. Ex:
            <code>[[0, 0, 0], [2, 0, 0], [1, 1, 0]]</code>
  normals: Normals of the triangle. <em>(When left as None, Payton will
           calculate the surface normal based on vertices and assign
           it per given vertex.)</em>
  material: Name of the material to use.
  texcoords: Texture UV coordinates.
  colors: Per vertex colors (optional)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.add_triangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.add_triangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_triangle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">vertices</span><span class="p">:</span> <span class="n">VList</span><span class="p">,</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT</span><span class="p">,</span>
    <span class="n">normals</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">texcoords</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add triangle to Mesh</span>
<span class="sd">    Args:</span>
<span class="sd">      vertices: Vertices of the triangle. This is required. Ex:</span>
<span class="sd">                `[[0, 0, 0], [2, 0, 0], [1, 1, 0]]`</span>
<span class="sd">      normals: Normals of the triangle. _(When left as None, Payton will</span>
<span class="sd">               calculate the surface normal based on vertices and assign</span>
<span class="sd">               it per given vertex.)_</span>
<span class="sd">      material: Name of the material to use.</span>
<span class="sd">      texcoords: Texture UV coordinates.</span>
<span class="sd">      colors: Per vertex colors (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A triangle must have 3 vertices&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one normal per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">texcoords</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one texcoord per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span><span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">+=</span> <span class="n">vertices</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texcoords</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.clear_triangles">
    <p>def <span class="ident">clear_triangles</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear all triangles inside the Mesh</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.clear_triangles', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.clear_triangles" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_triangles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clear all triangles inside the Mesh&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.click">
    <p>def <span class="ident">click</span>(</p><p>self, x, y)</p>
    </div>
    

    
  
    <div class="desc"><p>Click trigger function</p>
<p><strong>IMPORTANT!!</strong></p>
<p>Basically, this is getting called from
<code>payton.scene.controller.Controller</code> so if you overwrite the
controller, remember that your GUI callbacks will not work unless
you handle them yourself or you call the <code>super()</code> for mouse action</p>
<p>Args:
  x: Mouse X coordinate
  y: Mouse Y coordinate</p>
<p>Returns:
  bool: Hit</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.click', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.click" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Click trigger function</span>
<span class="sd">    **IMPORTANT!!**</span>
<span class="sd">    Basically, this is getting called from</span>
<span class="sd">    `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">    controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">    you handle them yourself or you call the `super()` for mouse action</span>
<span class="sd">    Args:</span>
<span class="sd">      x: Mouse X coordinate</span>
<span class="sd">      y: Mouse Y coordinate</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: Hit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
            <span class="p">)</span>  <span class="c1"># type: bool</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.draw">
    <p>def <span class="ident">draw</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Draw the rectangle.</p>
<p>Basically, this method gets called right after the initialization
to build the rectangle buffer.</p>
<p>Also, if you change the size of rectangle, you have to call this
method again.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.draw', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Draw the rectangle.</span>
<span class="sd">    Basically, this method gets called right after the initialization</span>
<span class="sd">    to build the rectangle buffer.</span>
<span class="sd">    Also, if you change the size of rectangle, you have to call this</span>
<span class="sd">    method again.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.draw_text">
    <p>def <span class="ident">draw_text</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw text function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.draw_text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.draw_text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Placeholder for draw text function&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.fix_normals">
    <p>def <span class="ident">fix_normals</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to re-calculate Mesh normals, if your object has already perfect
normals, do not call this method</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.fix_normals', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.fix_normals" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_normals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to re-calculate Mesh normals, if your object has already perfect</span>
<span class="sd">    normals, do not call this method&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.fix_texcoords">
    <p>def <span class="ident">fix_texcoords</span>(</p><p>self, u=1, v=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to recalculate mesh texture coordinates by cube projection</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.fix_texcoords', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.fix_texcoords" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_texcoords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to recalculate mesh texture coordinates by cube projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_box</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># front</span>
        <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># right</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># left</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># back</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># top</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># bottom</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="c1"># find face normal</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="c1"># determine which face of the cube</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">vector_angle</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">]</span>
        <span class="n">face_dir</span> <span class="o">=</span> <span class="n">angles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">angles</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.render">
    <p>def <span class="ident">render</span>(</p><p>self, proj, view, lights, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Virtual function for rendering the object. Some objects can overwrite
this function.</p>
<p>Args:
  proj: Camera projection matrix.
  view: Camera location/view matrix.
  lights: Light objects in the scene
  parent_matrix: Parent matrix is the matrix of the parent. Parent can
                 be the scene itself or another object. In case of
                 another object, object will position itself relative
                 to its parent object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
    <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Virtual function for rendering the object. Some objects can overwrite</span>
<span class="sd">    this function.</span>
<span class="sd">    Args:</span>
<span class="sd">      proj: Camera projection matrix.</span>
<span class="sd">      view: Camera location/view matrix.</span>
<span class="sd">      lights: Light objects in the scene</span>
<span class="sd">      parent_matrix: Parent matrix is the matrix of the parent. Parent can</span>
<span class="sd">                     be the scene itself or another object. In case of</span>
<span class="sd">                     another object, object will position itself relative</span>
<span class="sd">                     to its parent object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_missing_vao</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_matrix</span><span class="p">(</span><span class="n">parent_matrix</span><span class="o">=</span><span class="n">parent_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># dummy object, render children and leave</span>
        <span class="c1"># render children</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
                <span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span>
            <span class="p">)</span>
        <span class="k">return</span>
    <span class="c1"># Material shading mode.</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span><span class="p">:</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">Shader</span><span class="o">.</span><span class="n">PER_VERTEX_COLOR</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
        <span class="c1"># Actual rendering</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span> <span class="ow">and</span> <span class="n">glIsVertexArray</span><span class="p">(</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span>
        <span class="p">):</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="n">pmode</span> <span class="o">=</span> <span class="n">GL_LINE</span>
            <span class="n">primitive</span> <span class="o">=</span> <span class="n">GL_LINE_STRIP</span>
            <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">==</span> <span class="n">SOLID</span><span class="p">:</span>
                <span class="n">pmode</span> <span class="o">=</span> <span class="n">GL_FILL</span>
                <span class="n">primitive</span> <span class="o">=</span> <span class="n">GL_TRIANGLES</span>
            <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">==</span> <span class="n">POINTS</span><span class="p">:</span>
                <span class="n">pmode</span> <span class="o">=</span> <span class="n">GL_POINT</span>
                <span class="n">primitive</span> <span class="o">=</span> <span class="n">GL_POINTS</span>
            <span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span> <span class="n">pmode</span><span class="p">)</span>
            <span class="n">glDrawElements</span><span class="p">(</span>
                <span class="n">primitive</span><span class="p">,</span>
                <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span><span class="p">,</span>
                <span class="n">GL_UNSIGNED_INT</span><span class="p">,</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">pmode</span> <span class="o">!=</span> <span class="n">GL_FILL</span><span class="p">:</span>
                <span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span> <span class="n">GL_FILL</span><span class="p">)</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># End using the shader program.</span>
        <span class="n">material</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
    <span class="c1"># Render motion path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
    <span class="c1"># render children</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.scale">
    <p>def <span class="ident">scale</span>(</p><p>self, x, y, z)</p>
    </div>
    

    
  
    <div class="desc"><p>Scale Mesh by given factors</p>
<p>This does not create a scale matrix and multiply existing matrix
with it. Instead, it will scale the vertices by given factors.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.scale', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Scale Mesh by given factors</span>
<span class="sd">    This does not create a scale matrix and multiply existing matrix</span>
<span class="sd">    with it. Instead, it will scale the vertices by given factors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fix_normals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.set_parent_size">
    <p>def <span class="ident">set_parent_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.set_parent_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.set_parent_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.to_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.to_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span>
        <span class="s2">&quot;normals&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span>
        <span class="s2">&quot;texcoords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span>
        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span>
        <span class="s2">&quot;materials&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">mat</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">mat</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span>
        <span class="p">},</span>
        <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="n">cast</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">Mesh</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.to_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.to_json" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#payton.scene.gui.Shape2D">Shape2D</a></code>.<code><a href="#payton.scene.gui.Shape2D.bounding_radius">bounding_radius</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.direction" class="name">var <span class="ident">direction</span></p>
            

            
  
    <div class="desc"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.font" class="name">var <span class="ident">font</span></p>
            

            
  
    <div class="desc"><p>Font of the shape</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.position" class="name">var <span class="ident">position</span></p>
            

            
  
    <div class="desc"><p>Get position of the Object.</p>
<p>Return matrix position list</p>
<p>Returns:
  List[float]</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Rectangle.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.from_dict">
    <p>def <span class="ident">from_dict</span>(</p><p>cls, d)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.from_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.from_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;normals&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;texcoords&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;matrix&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="n">Material</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">res</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Rectangle.from_json">
    <p>def <span class="ident">from_json</span>(</p><p>cls, jstr)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Rectangle.from_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Rectangle.from_json" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jstr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jstr</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Shape2D" class="name">class <span class="ident">Shape2D</span></p>
      
  
    <div class="desc"><p>Shape2D is the base of GUI primitives</p>
<p>An instance of <code>payton.scene.geometry.mesh.Mesh</code> so as a result of this,
you can use the material information to change the color and texture
of the shape.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Shape2D</span><span class="p">(</span><span class="n">Mesh</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Shape2D is the base of GUI primitives</span>

<span class="sd">    An instance of `payton.scene.geometry.mesh.Mesh` so as a result of this,</span>
<span class="sd">    you can use the material information to change the color and texture</span>
<span class="sd">    of the shape.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">on_click</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize Shape2D</span>

<span class="sd">        Args:</span>
<span class="sd">          opacity: Opacity of the shape. (1: transparent)</span>
<span class="sd">          position: Position of the shape in screen. (0, 0 by default.)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">opacity</span> <span class="o">=</span> <span class="n">opacity</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">position</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="nb">list</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__position</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="n">on_click</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">:</span> <span class="n">ImageFont</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_scene_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="s2">&quot;Shape2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
        <span class="sd">&quot;&quot;&quot;Add child to the shape, childs position will be relative to its</span>
<span class="sd">        parent shape and will be rendered on top of it.&quot;&quot;&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">res</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">res</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Placeholder for draw function&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Placeholder for draw text function&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">font</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Font of the shape&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_font</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">font</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="nd">@font.setter</span>
    <span class="k">def</span> <span class="nf">font</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">font</span><span class="p">:</span> <span class="n">ImageFont</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Set font of the text</span>

<span class="sd">        Args:</span>
<span class="sd">          font: An instance of `PIL.ImageFont`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_font</span> <span class="o">=</span> <span class="n">font</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_text</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Click trigger function</span>

<span class="sd">        **IMPORTANT!!**</span>

<span class="sd">        Basically, this is getting called from</span>
<span class="sd">        `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">        controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">        you handle them yourself or you call the `super()` for mouse action</span>

<span class="sd">        Args:</span>
<span class="sd">          x: Mouse X coordinate</span>
<span class="sd">          y: Mouse Y coordinate</span>

<span class="sd">        Returns:</span>
<span class="sd">          bool: Hit</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                    <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
                <span class="p">)</span>  <span class="c1"># type: bool</span>
                <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                    <span class="k">return</span> <span class="bp">True</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Shape2D">Shape2D</a></li>
          <li>payton.scene.geometry.mesh.Mesh</li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, position, size, on_click=None, opacity=0.5, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize Shape2D</p>
<p>Args:
  opacity: Opacity of the shape. (1: transparent)
  position: Position of the shape in screen. (0, 0 by default.)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">on_click</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">opacity</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize Shape2D</span>
<span class="sd">    Args:</span>
<span class="sd">      opacity: Opacity of the shape. (1: transparent)</span>
<span class="sd">      position: Position of the shape in screen. (0, 0 by default.)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">opacity</span> <span class="o">=</span> <span class="n">opacity</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">position</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">position</span> <span class="o">=</span> <span class="nb">list</span><span class="p">([</span><span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__position</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="n">on_click</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_font</span><span class="p">:</span> <span class="n">ImageFont</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scene_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_scene_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to the shape, childs position will be relative to its
parent shape and will be rendered on top of it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="s2">&quot;Shape2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="sd">&quot;&quot;&quot;Add child to the shape, childs position will be relative to its</span>
<span class="sd">    parent shape and will be rendered on top of it.&quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">res</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.add_triangle">
    <p>def <span class="ident">add_triangle</span>(</p><p>self, vertices, material=&#39;default&#39;, normals=None, texcoords=None, colors=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Add triangle to Mesh</p>
<p>Args:
  vertices: Vertices of the triangle. This is required. Ex:
            <code>[[0, 0, 0], [2, 0, 0], [1, 1, 0]]</code>
  normals: Normals of the triangle. <em>(When left as None, Payton will
           calculate the surface normal based on vertices and assign
           it per given vertex.)</em>
  material: Name of the material to use.
  texcoords: Texture UV coordinates.
  colors: Per vertex colors (optional)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.add_triangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.add_triangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_triangle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">vertices</span><span class="p">:</span> <span class="n">VList</span><span class="p">,</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT</span><span class="p">,</span>
    <span class="n">normals</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">texcoords</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add triangle to Mesh</span>
<span class="sd">    Args:</span>
<span class="sd">      vertices: Vertices of the triangle. This is required. Ex:</span>
<span class="sd">                `[[0, 0, 0], [2, 0, 0], [1, 1, 0]]`</span>
<span class="sd">      normals: Normals of the triangle. _(When left as None, Payton will</span>
<span class="sd">               calculate the surface normal based on vertices and assign</span>
<span class="sd">               it per given vertex.)_</span>
<span class="sd">      material: Name of the material to use.</span>
<span class="sd">      texcoords: Texture UV coordinates.</span>
<span class="sd">      colors: Per vertex colors (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A triangle must have 3 vertices&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one normal per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">texcoords</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one texcoord per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span><span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">+=</span> <span class="n">vertices</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texcoords</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.clear_triangles">
    <p>def <span class="ident">clear_triangles</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear all triangles inside the Mesh</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.clear_triangles', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.clear_triangles" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_triangles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clear all triangles inside the Mesh&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.click">
    <p>def <span class="ident">click</span>(</p><p>self, x, y)</p>
    </div>
    

    
  
    <div class="desc"><p>Click trigger function</p>
<p><strong>IMPORTANT!!</strong></p>
<p>Basically, this is getting called from
<code>payton.scene.controller.Controller</code> so if you overwrite the
controller, remember that your GUI callbacks will not work unless
you handle them yourself or you call the <code>super()</code> for mouse action</p>
<p>Args:
  x: Mouse X coordinate
  y: Mouse Y coordinate</p>
<p>Returns:
  bool: Hit</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.click', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.click" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Click trigger function</span>
<span class="sd">    **IMPORTANT!!**</span>
<span class="sd">    Basically, this is getting called from</span>
<span class="sd">    `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">    controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">    you handle them yourself or you call the `super()` for mouse action</span>
<span class="sd">    Args:</span>
<span class="sd">      x: Mouse X coordinate</span>
<span class="sd">      y: Mouse Y coordinate</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: Hit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
            <span class="p">)</span>  <span class="c1"># type: bool</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.draw">
    <p>def <span class="ident">draw</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.draw', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Placeholder for draw function&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.draw_text">
    <p>def <span class="ident">draw_text</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw text function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.draw_text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.draw_text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Placeholder for draw text function&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.fix_normals">
    <p>def <span class="ident">fix_normals</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to re-calculate Mesh normals, if your object has already perfect
normals, do not call this method</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.fix_normals', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.fix_normals" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_normals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to re-calculate Mesh normals, if your object has already perfect</span>
<span class="sd">    normals, do not call this method&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.fix_texcoords">
    <p>def <span class="ident">fix_texcoords</span>(</p><p>self, u=1, v=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to recalculate mesh texture coordinates by cube projection</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.fix_texcoords', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.fix_texcoords" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_texcoords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to recalculate mesh texture coordinates by cube projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_box</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># front</span>
        <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># right</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># left</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># back</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># top</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># bottom</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="c1"># find face normal</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="c1"># determine which face of the cube</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">vector_angle</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">]</span>
        <span class="n">face_dir</span> <span class="o">=</span> <span class="n">angles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">angles</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.render">
    <p>def <span class="ident">render</span>(</p><p>self, proj, view, lights, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Virtual function for rendering the object. Some objects can overwrite
this function.</p>
<p>Args:
  proj: Camera projection matrix.
  view: Camera location/view matrix.
  lights: Light objects in the scene
  parent_matrix: Parent matrix is the matrix of the parent. Parent can
                 be the scene itself or another object. In case of
                 another object, object will position itself relative
                 to its parent object.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
    <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Virtual function for rendering the object. Some objects can overwrite</span>
<span class="sd">    this function.</span>
<span class="sd">    Args:</span>
<span class="sd">      proj: Camera projection matrix.</span>
<span class="sd">      view: Camera location/view matrix.</span>
<span class="sd">      lights: Light objects in the scene</span>
<span class="sd">      parent_matrix: Parent matrix is the matrix of the parent. Parent can</span>
<span class="sd">                     be the scene itself or another object. In case of</span>
<span class="sd">                     another object, object will position itself relative</span>
<span class="sd">                     to its parent object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_missing_vao</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">update_matrix</span><span class="p">(</span><span class="n">parent_matrix</span><span class="o">=</span><span class="n">parent_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">track</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># dummy object, render children and leave</span>
        <span class="c1"># render children</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span>
                <span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span>
            <span class="p">)</span>
        <span class="k">return</span>
    <span class="c1"># Material shading mode.</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span><span class="p">:</span>
        <span class="n">mode</span> <span class="o">=</span> <span class="n">Shader</span><span class="o">.</span><span class="n">PER_VERTEX_COLOR</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span>
        <span class="c1"># Actual rendering</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span> <span class="ow">and</span> <span class="n">glIsVertexArray</span><span class="p">(</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span>
        <span class="p">):</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="n">pmode</span> <span class="o">=</span> <span class="n">GL_LINE</span>
            <span class="n">primitive</span> <span class="o">=</span> <span class="n">GL_LINE_STRIP</span>
            <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">==</span> <span class="n">SOLID</span><span class="p">:</span>
                <span class="n">pmode</span> <span class="o">=</span> <span class="n">GL_FILL</span>
                <span class="n">primitive</span> <span class="o">=</span> <span class="n">GL_TRIANGLES</span>
            <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">==</span> <span class="n">POINTS</span><span class="p">:</span>
                <span class="n">pmode</span> <span class="o">=</span> <span class="n">GL_POINT</span>
                <span class="n">primitive</span> <span class="o">=</span> <span class="n">GL_POINTS</span>
            <span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span> <span class="n">pmode</span><span class="p">)</span>
            <span class="n">glDrawElements</span><span class="p">(</span>
                <span class="n">primitive</span><span class="p">,</span>
                <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span><span class="p">,</span>
                <span class="n">GL_UNSIGNED_INT</span><span class="p">,</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">pmode</span> <span class="o">!=</span> <span class="n">GL_FILL</span><span class="p">:</span>
                <span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span> <span class="n">GL_FILL</span><span class="p">)</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># End using the shader program.</span>
        <span class="n">material</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
    <span class="c1"># Render motion path</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
    <span class="c1"># render children</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.scale">
    <p>def <span class="ident">scale</span>(</p><p>self, x, y, z)</p>
    </div>
    

    
  
    <div class="desc"><p>Scale Mesh by given factors</p>
<p>This does not create a scale matrix and multiply existing matrix
with it. Instead, it will scale the vertices by given factors.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.scale', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Scale Mesh by given factors</span>
<span class="sd">    This does not create a scale matrix and multiply existing matrix</span>
<span class="sd">    with it. Instead, it will scale the vertices by given factors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fix_normals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.set_parent_size">
    <p>def <span class="ident">set_parent_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.set_parent_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.set_parent_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.to_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.to_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span>
        <span class="s2">&quot;normals&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span>
        <span class="s2">&quot;texcoords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span>
        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span>
        <span class="s2">&quot;materials&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">mat</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">mat</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span>
        <span class="p">},</span>
        <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="n">cast</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">Mesh</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.to_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.to_json" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            

            
  
    <div class="desc"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.direction" class="name">var <span class="ident">direction</span></p>
            

            
  
    <div class="desc"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.font" class="name">var <span class="ident">font</span></p>
            

            
  
    <div class="desc"><p>Font of the shape</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.position" class="name">var <span class="ident">position</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Shape2D.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.from_dict">
    <p>def <span class="ident">from_dict</span>(</p><p>cls, d)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.from_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.from_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;normals&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;texcoords&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;matrix&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="n">Material</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">res</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Shape2D.from_json">
    <p>def <span class="ident">from_json</span>(</p><p>cls, jstr)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Shape2D.from_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Shape2D.from_json" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jstr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jstr</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Text" class="name">class <span class="ident">Text</span></p>
      
  
    <div class="desc"><p>Text object.</p>
<p>This is an instance of <a href="#payton.scene.gui.Rectangle"><code>Rectangle</code></a> and uses Pillow
library to generate a texture with a text and assigns the texture
to own material</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Text</span><span class="p">(</span><span class="n">Rectangle</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Text object.</span>

<span class="sd">    This is an instance of `payton.scene.gui.Rectangle` and uses Pillow</span>
<span class="sd">    library to generate a texture with a text and assigns the texture</span>
<span class="sd">    to own material</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;lorem&quot;</span><span class="p">,</span>
        <span class="n">bgcolor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Initialize Text</span>

<span class="sd">        Args:</span>
<span class="sd">          label: Label of the text. (Text to be written)</span>
<span class="sd">          bgcolor: Background color of the text (Default, r:0, g:0, b:0, a:0)</span>
<span class="sd">          color: Color of the text (Default, r:0, g:0, b:0)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">bgcolor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">bgcolor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">bgcolor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">bgcolor</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span>
            <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
                <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span>
            <span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">draw_text</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init_text</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__label</span>

    <span class="nd">@label.setter</span>
    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__label</span> <span class="o">=</span> <span class="n">label</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_text</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
        <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
        <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Render the Text</span>

<span class="sd">        This calls the render method of</span>
<span class="sd">        `payton.scene.geometry.base.Object.render` then renders the text on top</span>
<span class="sd">        of the rectangle.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_text</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">draw_text</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init_text</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">text_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="n">timg</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">timg</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">textsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="n">textsize</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Draw text</span>

<span class="sd">        Create an empty transparent image with the rectangle size</span>
<span class="sd">        and draw the text on it. Then, assign the image to the material</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">))</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">),</span> <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="n">img</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Text">Text</a></li>
          <li><a href="#payton.scene.gui.Rectangle">Rectangle</a></li>
          <li><a href="#payton.scene.gui.Shape2D">Shape2D</a></li>
          <li>payton.scene.geometry.mesh.Mesh</li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, position, size, label=&#39;lorem&#39;, bgcolor=None, color=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize Text</p>
<p>Args:
  label: Label of the text. (Text to be written)
  bgcolor: Background color of the text (Default, r:0, g:0, b:0, a:0)
  color: Color of the text (Default, r:0, g:0, b:0)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">size</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
    <span class="n">label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;lorem&quot;</span><span class="p">,</span>
    <span class="n">bgcolor</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Initialize Text</span>
<span class="sd">    Args:</span>
<span class="sd">      label: Label of the text. (Text to be written)</span>
<span class="sd">      bgcolor: Background color of the text (Default, r:0, g:0, b:0, a:0)</span>
<span class="sd">      color: Color of the text (Default, r:0, g:0, b:0)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="n">position</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__label</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">label</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">bgcolor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">bgcolor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
            <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">bgcolor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
            <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">bgcolor</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">color</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
            <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">),</span>
            <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">color</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="mi">255</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw_text</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init_text</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to the shape, childs position will be relative to its
parent shape and will be rendered on top of it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="s2">&quot;Shape2D&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="sd">&quot;&quot;&quot;Add child to the shape, childs position will be relative to its</span>
<span class="sd">    parent shape and will be rendered on top of it.&quot;&quot;&quot;</span>
    <span class="n">res</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">res</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.add_triangle">
    <p>def <span class="ident">add_triangle</span>(</p><p>self, vertices, material=&#39;default&#39;, normals=None, texcoords=None, colors=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Add triangle to Mesh</p>
<p>Args:
  vertices: Vertices of the triangle. This is required. Ex:
            <code>[[0, 0, 0], [2, 0, 0], [1, 1, 0]]</code>
  normals: Normals of the triangle. <em>(When left as None, Payton will
           calculate the surface normal based on vertices and assign
           it per given vertex.)</em>
  material: Name of the material to use.
  texcoords: Texture UV coordinates.
  colors: Per vertex colors (optional)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.add_triangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.add_triangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_triangle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">vertices</span><span class="p">:</span> <span class="n">VList</span><span class="p">,</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT</span><span class="p">,</span>
    <span class="n">normals</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">texcoords</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add triangle to Mesh</span>
<span class="sd">    Args:</span>
<span class="sd">      vertices: Vertices of the triangle. This is required. Ex:</span>
<span class="sd">                `[[0, 0, 0], [2, 0, 0], [1, 1, 0]]`</span>
<span class="sd">      normals: Normals of the triangle. _(When left as None, Payton will</span>
<span class="sd">               calculate the surface normal based on vertices and assign</span>
<span class="sd">               it per given vertex.)_</span>
<span class="sd">      material: Name of the material to use.</span>
<span class="sd">      texcoords: Texture UV coordinates.</span>
<span class="sd">      colors: Per vertex colors (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A triangle must have 3 vertices&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one normal per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">texcoords</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one texcoord per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span><span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">+=</span> <span class="n">vertices</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texcoords</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.clear_triangles">
    <p>def <span class="ident">clear_triangles</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear all triangles inside the Mesh</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.clear_triangles', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.clear_triangles" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_triangles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clear all triangles inside the Mesh&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.click">
    <p>def <span class="ident">click</span>(</p><p>self, x, y)</p>
    </div>
    

    
  
    <div class="desc"><p>Click trigger function</p>
<p><strong>IMPORTANT!!</strong></p>
<p>Basically, this is getting called from
<code>payton.scene.controller.Controller</code> so if you overwrite the
controller, remember that your GUI callbacks will not work unless
you handle them yourself or you call the <code>super()</code> for mouse action</p>
<p>Args:
  x: Mouse X coordinate
  y: Mouse Y coordinate</p>
<p>Returns:
  bool: Hit</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.click', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.click" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Click trigger function</span>
<span class="sd">    **IMPORTANT!!**</span>
<span class="sd">    Basically, this is getting called from</span>
<span class="sd">    `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">    controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">    you handle them yourself or you call the `super()` for mouse action</span>
<span class="sd">    Args:</span>
<span class="sd">      x: Mouse X coordinate</span>
<span class="sd">      y: Mouse Y coordinate</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: Hit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
            <span class="p">)</span>  <span class="c1"># type: bool</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.draw">
    <p>def <span class="ident">draw</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Draw the rectangle.</p>
<p>Basically, this method gets called right after the initialization
to build the rectangle buffer.</p>
<p>Also, if you change the size of rectangle, you have to call this
method again.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.draw', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Draw the rectangle.</span>
<span class="sd">    Basically, this method gets called right after the initialization</span>
<span class="sd">    to build the rectangle buffer.</span>
<span class="sd">    Also, if you change the size of rectangle, you have to call this</span>
<span class="sd">    method again.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.draw_text">
    <p>def <span class="ident">draw_text</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Draw text</p>
<p>Create an empty transparent image with the rectangle size
and draw the text on it. Then, assign the image to the material</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.draw_text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.draw_text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Draw text</span>
<span class="sd">    Create an empty transparent image with the rectangle size</span>
<span class="sd">    and draw the text on it. Then, assign the image to the material</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;RGBA&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bgcolor</span><span class="p">))</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">),</span> <span class="n">font</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="nb">tuple</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">_image</span> <span class="o">=</span> <span class="n">img</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.fix_normals">
    <p>def <span class="ident">fix_normals</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to re-calculate Mesh normals, if your object has already perfect
normals, do not call this method</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.fix_normals', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.fix_normals" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_normals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to re-calculate Mesh normals, if your object has already perfect</span>
<span class="sd">    normals, do not call this method&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.fix_texcoords">
    <p>def <span class="ident">fix_texcoords</span>(</p><p>self, u=1, v=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to recalculate mesh texture coordinates by cube projection</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.fix_texcoords', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.fix_texcoords" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_texcoords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to recalculate mesh texture coordinates by cube projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_box</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># front</span>
        <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># right</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># left</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># back</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># top</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># bottom</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="c1"># find face normal</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="c1"># determine which face of the cube</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">vector_angle</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">]</span>
        <span class="n">face_dir</span> <span class="o">=</span> <span class="n">angles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">angles</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.render">
    <p>def <span class="ident">render</span>(</p><p>self, proj, view, lights, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Render the Text</p>
<p>This calls the render method of
<code>payton.scene.geometry.base.Object.render</code> then renders the text on top
of the rectangle.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
    <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Render the Text</span>
<span class="sd">    This calls the render method of</span>
<span class="sd">    `payton.scene.geometry.base.Object.render` then renders the text on top</span>
<span class="sd">    of the rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_text</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw_text</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init_text</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.scale">
    <p>def <span class="ident">scale</span>(</p><p>self, x, y, z)</p>
    </div>
    

    
  
    <div class="desc"><p>Scale Mesh by given factors</p>
<p>This does not create a scale matrix and multiply existing matrix
with it. Instead, it will scale the vertices by given factors.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.scale', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Scale Mesh by given factors</span>
<span class="sd">    This does not create a scale matrix and multiply existing matrix</span>
<span class="sd">    with it. Instead, it will scale the vertices by given factors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fix_normals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.set_parent_size">
    <p>def <span class="ident">set_parent_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.set_parent_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.set_parent_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.to_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.to_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span>
        <span class="s2">&quot;normals&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span>
        <span class="s2">&quot;texcoords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span>
        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span>
        <span class="s2">&quot;materials&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">mat</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">mat</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span>
        <span class="p">},</span>
        <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="n">cast</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">Mesh</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.to_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.to_json" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Text.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#payton.scene.gui.Rectangle">Rectangle</a></code>.<code><a href="#payton.scene.gui.Rectangle.bounding_radius">bounding_radius</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.direction" class="name">var <span class="ident">direction</span></p>
            
    <p class="inheritance">
     <strong>Inheritance:</strong>
       <code><a href="#payton.scene.gui.Shape2D">Shape2D</a></code>.<code><a href="#payton.scene.gui.Shape2D.direction">direction</a></code>
    </p>

            
  
    <div class="desc inherited"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.font" class="name">var <span class="ident">font</span></p>
            

            
  
    <div class="desc"><p>Font of the shape</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.label" class="name">var <span class="ident">label</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.position" class="name">var <span class="ident">position</span></p>
            

            
  
    <div class="desc"><p>Get position of the Object.</p>
<p>Return matrix position list</p>
<p>Returns:
  List[float]</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.text_size" class="name">var <span class="ident">text_size</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Text.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.from_dict">
    <p>def <span class="ident">from_dict</span>(</p><p>cls, d)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.from_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.from_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;normals&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;texcoords&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;matrix&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="n">Material</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">res</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Text.from_json">
    <p>def <span class="ident">from_json</span>(</p><p>cls, jstr)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Text.from_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Text.from_json" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jstr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jstr</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Theme" class="name">class <span class="ident">Theme</span></p>
      
  
    <div class="desc"><p>Main theme definitions for window elements</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Theme', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Theme" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Theme</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Main theme definitions for window elements</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opacity</span> <span class="o">=</span> <span class="mf">0.9</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">background_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="mi">235</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="mi">210</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="mi">52</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title_text_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Theme">Theme</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Theme.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize self.  See help(type(self)) for accurate signature.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Theme.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Theme.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">opacity</span> <span class="o">=</span> <span class="mf">0.9</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">background_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">text_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
        <span class="mi">235</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
        <span class="mi">210</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
        <span class="mi">52</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title_text_color</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Theme.opacity" class="name">var <span class="ident">opacity</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.Window" class="name">class <span class="ident">Window</span></p>
      
  
    <div class="desc"><p>Shape2D is the base of GUI primitives</p>
<p>An instance of <code>payton.scene.geometry.mesh.Mesh</code> so as a result of this,
you can use the material information to change the color and texture
of the shape.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Window</span><span class="p">(</span><span class="n">WindowElement</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
        <span class="n">left</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
        <span class="n">align</span><span class="p">:</span> <span class="n">WindowAlignment</span> <span class="o">=</span> <span class="n">WindowAlignment</span><span class="o">.</span><span class="n">FREE</span><span class="p">,</span>
        <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Theme</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize Window</span>

<span class="sd">        @NOTE: I am aware that I could have just define &quot;title&quot; as other</span>
<span class="sd">               elemenets are already arguments of WindowElement but some</span>
<span class="sd">               code hinting and completion tools are a bit stupid. They</span>
<span class="sd">               can not inherit from parent class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
            <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
            <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="p">,</span>
            <span class="n">align</span><span class="o">=</span><span class="n">align</span><span class="p">,</span>
            <span class="n">theme</span><span class="o">=</span><span class="n">theme</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span>
            <span class="s2">&quot;title&quot;</span><span class="p">,</span>
            <span class="n">Text</span><span class="p">(</span>
                <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
                <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                <span class="c1"># bgcolor=self.theme.title_background_color,</span>
                <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_text_color</span><span class="p">,</span>
                <span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
        <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
                <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
                <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
                <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="p">],</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.Window">Window</a></li>
          <li><a href="window.m.html#payton.scene.gui.window.WindowElement">payton.scene.gui.window.WindowElement</a></li>
          <li><a href="#payton.scene.gui.Shape2D">Shape2D</a></li>
          <li>payton.scene.geometry.mesh.Mesh</li>
          <li>payton.scene.geometry.base.Object</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, title=&#39;&#39;, width=400, height=300, left=10, top=10, align=&lt;WindowAlignment.FREE: &#39;free&#39;&gt;, theme=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize Window</p>
<p>@NOTE: I am aware that I could have just define "title" as other
       elemenets are already arguments of WindowElement but some
       code hinting and completion tools are a bit stupid. They
       can not inherit from parent class.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">400</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">left</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">top</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">align</span><span class="p">:</span> <span class="n">WindowAlignment</span> <span class="o">=</span> <span class="n">WindowAlignment</span><span class="o">.</span><span class="n">FREE</span><span class="p">,</span>
    <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Theme</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize Window</span>
<span class="sd">    @NOTE: I am aware that I could have just define &quot;title&quot; as other</span>
<span class="sd">           elemenets are already arguments of WindowElement but some</span>
<span class="sd">           code hinting and completion tools are a bit stupid. They</span>
<span class="sd">           can not inherit from parent class.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
        <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span>
        <span class="n">left</span><span class="o">=</span><span class="n">left</span><span class="p">,</span>
        <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="p">,</span>
        <span class="n">align</span><span class="o">=</span><span class="n">align</span><span class="p">,</span>
        <span class="n">theme</span><span class="o">=</span><span class="n">theme</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span>
        <span class="s2">&quot;title&quot;</span><span class="p">,</span>
        <span class="n">Text</span><span class="p">(</span>
            <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
            <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">20</span><span class="p">),</span>
            <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
            <span class="c1"># bgcolor=self.theme.title_background_color,</span>
            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_text_color</span><span class="p">,</span>
            <span class="n">opacity</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.absolute_vertices">
    <p>def <span class="ident">absolute_vertices</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return a map of all local vertices as absolute coordinates.</p>
<p>Imagine that object B is a child of object A. In this case, B will
always stand (follow) relative to A. If you want to know the exact
world coordinates of all vertices in B, this method will return them.</p>
<p><strong>Important!</strong> This is a costly operation so use with caution!</p>
<p>Returns:
  map(List[List[float]])</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.absolute_vertices', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.absolute_vertices" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">absolute_vertices</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]:</span>
    <span class="sd">&quot;&quot;&quot;Return a map of all local vertices as absolute coordinates.</span>
<span class="sd">    Imagine that object B is a child of object A. In this case, B will</span>
<span class="sd">    always stand (follow) relative to A. If you want to know the exact</span>
<span class="sd">    world coordinates of all vertices in B, this method will return them.</span>
<span class="sd">    **Important!** This is a costly operation so use with caution!</span>
<span class="sd">    Returns:</span>
<span class="sd">      map(List[List[float]])</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_absolute</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.add_child">
    <p>def <span class="ident">add_child</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add child to the shape, childs position will be relative to its
parent shape and will be rendered on top of it.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.add_child', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.add_child" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_child</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Shape2D</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">total_v</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">exceed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">exceed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">exceed</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">total_v</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">position</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">exceed</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">total_v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">exceed</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">obj</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">exceed</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.add_material">
    <p>def <span class="ident">add_material</span>(</p><p>self, name, material)</p>
    </div>
    

    
  
    <div class="desc"><p>Add a material to the object.</p>
<p>Keep in mind that, adding material does not refer to the material
but does it through deepcopy. Initially, material holds indice
and vertex buffer objectt references. In order to prevent user
from breaking the objects, we create the clone of the material.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.add_material', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.add_material" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_material</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">material</span><span class="p">:</span> <span class="n">Material</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add a material to the object.</span>
<span class="sd">    Keep in mind that, adding material does not refer to the material</span>
<span class="sd">    but does it through deepcopy. Initially, material holds indice</span>
<span class="sd">    and vertex buffer objectt references. In order to prevent user</span>
<span class="sd">    from breaking the objects, we create the clone of the material.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Name {name} already exists&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">material</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.add_triangle">
    <p>def <span class="ident">add_triangle</span>(</p><p>self, vertices, material=&#39;default&#39;, normals=None, texcoords=None, colors=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Add triangle to Mesh</p>
<p>Args:
  vertices: Vertices of the triangle. This is required. Ex:
            <code>[[0, 0, 0], [2, 0, 0], [1, 1, 0]]</code>
  normals: Normals of the triangle. <em>(When left as None, Payton will
           calculate the surface normal based on vertices and assign
           it per given vertex.)</em>
  material: Name of the material to use.
  texcoords: Texture UV coordinates.
  colors: Per vertex colors (optional)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.add_triangle', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.add_triangle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_triangle</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">vertices</span><span class="p">:</span> <span class="n">VList</span><span class="p">,</span>
    <span class="n">material</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">DEFAULT</span><span class="p">,</span>
    <span class="n">normals</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">texcoords</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">VList</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add triangle to Mesh</span>
<span class="sd">    Args:</span>
<span class="sd">      vertices: Vertices of the triangle. This is required. Ex:</span>
<span class="sd">                `[[0, 0, 0], [2, 0, 0], [1, 1, 0]]`</span>
<span class="sd">      normals: Normals of the triangle. _(When left as None, Payton will</span>
<span class="sd">               calculate the surface normal based on vertices and assign</span>
<span class="sd">               it per given vertex.)_</span>
<span class="sd">      material: Name of the material to use.</span>
<span class="sd">      texcoords: Texture UV coordinates.</span>
<span class="sd">      colors: Per vertex colors (optional)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;A triangle must have 3 vertices&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">normals</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one normal per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">texcoords</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There must be one texcoord per vertex&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="n">normals</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">vertices</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span><span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">normal</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">texcoords</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]]</span>
    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">+=</span> <span class="n">vertices</span>
    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">material</span><span class="p">]</span><span class="o">.</span><span class="n">_indices</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">normal</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texcoords</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.build">
    <p>def <span class="ident">build</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Build OpenGL Vertex Array for the object</p>
<p>This function gets automatically called if material's <code>._vao</code> does not
exists in the first render cycle. Once the vba is built,
geometry changes or material display mode changes will not be
automatically effected. So, in every geometry or display mode
change, a <code>build</code> call is necessary.</p>
<p>If <code>self.static</code> is <code>True</code>, then the system assumes that another update
call is not expected, thus frees <code>_normals</code>, <code>_textcoords</code>,
<code>_vertices</code> and <code>_indices</code> lists to free memory.
So in this case, calling <code>build</code> function twice will result in
an invisible object (will not be drawn).</p>
<p>Additionally, this method goes through each material mapping and
build their indices as well. Each material map has its own
Vertex Array Object and gets rendered by separate glDrawElements
call.</p>
<p>Returns:
  bool</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.build', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.build" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Build OpenGL Vertex Array for the object</span>
<span class="sd">    This function gets automatically called if material&#39;s `._vao` does not</span>
<span class="sd">    exists in the first render cycle. Once the vba is built,</span>
<span class="sd">    geometry changes or material display mode changes will not be</span>
<span class="sd">    automatically effected. So, in every geometry or display mode</span>
<span class="sd">    change, a `build` call is necessary.</span>
<span class="sd">    If `self.static` is `True`, then the system assumes that another update</span>
<span class="sd">    call is not expected, thus frees `_normals`, `_textcoords`,</span>
<span class="sd">    `_vertices` and `_indices` lists to free memory.</span>
<span class="sd">    So in this case, calling `build` function twice will result in</span>
<span class="sd">    an invisible object (will not be drawn).</span>
<span class="sd">    Additionally, this method goes through each material mapping and</span>
<span class="sd">    build their indices as well. Each material map has its own</span>
<span class="sd">    Vertex Array Object and gets rendered by separate glDrawElements</span>
<span class="sd">    call.</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="c1"># Turn python arrays into C type arrays using Numpy.</span>
    <span class="c1"># This is required for OpenGL. Python memory model is a bit</span>
    <span class="c1"># different than raw memory model of C (OpenGL)</span>
    <span class="n">vertices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">texcoords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># We will let all materials to share the same buffer objects</span>
    <span class="c1"># We need 4 buffers (vertex, normal, texcoord, color)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="c1"># OpenGL allocates buffers in different mechanisms between</span>
    <span class="c1"># STATIC and DYNAMIC draw modes. If you select STATIC, then OpenGL</span>
    <span class="c1"># will assume that object buffer will not change and allocate it in a</span>
    <span class="c1"># more suitable way.</span>
    <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_STATIC_DRAW</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="n">draw</span> <span class="o">=</span> <span class="n">GL_DYNAMIC_DRAW</span>
    <span class="c1"># Buffer overflow, we need more space.</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">&lt;</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span> <span class="o">=</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">&lt;</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span> <span class="o">=</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Bind Vertices</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="c1"># glBufferData creates a new data area</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># glBufferSubData just replaces memory area in buffer so it is</span>
        <span class="c1"># much more efficient way to handle things.</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">vertices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span>
    <span class="c1"># Bind Normals</span>
    <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
        <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">normals</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">normals</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">normals</span><span class="p">)</span>
    <span class="c1"># Bind TexCoords</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size</span><span class="p">,</span> <span class="n">texcoords</span><span class="p">,</span> <span class="n">draw</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span>
                <span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">texcoords</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">texcoords</span>
            <span class="p">)</span>
    <span class="c1"># Bind Vertex Colors</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_has_vertex_colors</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span><span class="p">:</span>
            <span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size</span><span class="p">,</span> <span class="n">colors</span><span class="p">,</span> <span class="n">draw</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">glBufferSubData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">colors</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_t_buffer_size_changed</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_INDICE</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">==</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="c1"># Generate Vertex Array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="c1"># We need 1 buffer for material as indices</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[</span><span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">)]</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="c1"># Material shader must be built when there is an active binding</span>
            <span class="c1"># to vertex array</span>
            <span class="n">material</span><span class="o">.</span><span class="n">build_shader</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># we already have vertex array object, just bind it to modify</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">material</span><span class="o">.</span><span class="n">_indices</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="c1"># Bind Vertices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind Normals</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
        <span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
        <span class="c1"># Bind TexCoords</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Vertex Colors</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">):</span>
            <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
            <span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># shader layout location</span>
            <span class="n">glVertexAttribPointer</span><span class="p">(</span>
                <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># Bind Indices</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">material</span><span class="o">.</span><span class="n">_vbos</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">glBufferData</span><span class="p">(</span>
            <span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">indices</span><span class="o">.</span><span class="n">nbytes</span><span class="p">,</span> <span class="n">indices</span><span class="p">,</span> <span class="n">draw</span>
        <span class="p">)</span>
        <span class="n">i_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">=</span> <span class="n">i_len</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_count</span> <span class="o">+=</span> <span class="n">i_len</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">static</span><span class="p">:</span>
        <span class="c1"># we can clear this data to free some more memory</span>
        <span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vbos</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.clear_triangles">
    <p>def <span class="ident">clear_triangles</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Clear all triangles inside the Mesh</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.clear_triangles', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.clear_triangles" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">clear_triangles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Clear all triangles inside the Mesh&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertex_colors</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">material</span><span class="o">.</span><span class="n">_indices</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.click">
    <p>def <span class="ident">click</span>(</p><p>self, x, y)</p>
    </div>
    

    
  
    <div class="desc"><p>Click trigger function</p>
<p><strong>IMPORTANT!!</strong></p>
<p>Basically, this is getting called from
<code>payton.scene.controller.Controller</code> so if you overwrite the
controller, remember that your GUI callbacks will not work unless
you handle them yourself or you call the <code>super()</code> for mouse action</p>
<p>Args:
  x: Mouse X coordinate
  y: Mouse Y coordinate</p>
<p>Returns:
  bool: Hit</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.click', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.click" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">click</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Click trigger function</span>
<span class="sd">    **IMPORTANT!!**</span>
<span class="sd">    Basically, this is getting called from</span>
<span class="sd">    `payton.scene.controller.Controller` so if you overwrite the</span>
<span class="sd">    controller, remember that your GUI callbacks will not work unless</span>
<span class="sd">    you handle them yourself or you call the `super()` for mouse action</span>
<span class="sd">    Args:</span>
<span class="sd">      x: Mouse X coordinate</span>
<span class="sd">      y: Mouse Y coordinate</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: Hit</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">callable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">child</span><span class="p">])</span><span class="o">.</span><span class="n">click</span><span class="p">(</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
            <span class="p">)</span>  <span class="c1"># type: bool</span>
            <span class="k">if</span> <span class="n">c</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">True</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="n">mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="n">x</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="ow">and</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="n">mm</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">on_click</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.destroy">
    <p>def <span class="ident">destroy</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Destroy objects self.</p>
<p>Returns:
    bool: <code>True</code> on successful destroy of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.destroy', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.destroy" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">destroy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destroy objects self.</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful destroy of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">material</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
            <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
            <span class="n">material</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">&gt;</span> <span class="n">NO_VERTEX_ARRAY</span><span class="p">:</span>
        <span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">NO_VERTEX_ARRAY</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.direct_to">
    <p>def <span class="ident">direct_to</span>(</p><p>self, v)</p>
    </div>
    

    
  
    <div class="desc"><p>Direct the objects forward towards given point vector</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.direct_to', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.direct_to" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">direct_to</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Direct the objects forward towards given point vector&quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">sub_vector</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="p">)</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">normalize_vector</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">direction</span> <span class="o">=</span> <span class="n">diff</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.draw">
    <p>def <span class="ident">draw</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.draw', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.draw" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clear_triangles</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">background_color</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_triangle</span><span class="p">(</span>
            <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="n">w</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span>
            <span class="n">texcoords</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span>
            <span class="n">colors</span><span class="o">=</span><span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">theme</span><span class="o">.</span><span class="n">title_background_color</span><span class="p">,</span>
            <span class="p">],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.draw_text">
    <p>def <span class="ident">draw_text</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Placeholder for draw text function</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.draw_text', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.draw_text" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Placeholder for draw text function&quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.fix_normals">
    <p>def <span class="ident">fix_normals</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to re-calculate Mesh normals, if your object has already perfect
normals, do not call this method</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.fix_normals', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.fix_normals" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_normals</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to re-calculate Mesh normals, if your object has already perfect</span>
<span class="sd">    normals, do not call this method&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="n">normal</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.fix_texcoords">
    <p>def <span class="ident">fix_texcoords</span>(</p><p>self, u=1, v=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Try to recalculate mesh texture coordinates by cube projection</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.fix_texcoords', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.fix_texcoords" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">fix_texcoords</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">u</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">v</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Try to recalculate mesh texture coordinates by cube projection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_calc_bounds</span><span class="p">()</span>
    <span class="n">bbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_box</span>
    <span class="n">vmin</span><span class="p">,</span> <span class="n">vmax</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">bbox</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">depth</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">vmax</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">normals</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># front</span>
        <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># right</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># left</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>  <span class="c1"># back</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># top</span>
        <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">],</span>  <span class="c1"># bottom</span>
    <span class="p">]</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_indices</span><span class="p">:</span>
        <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">[</span><span class="n">face</span><span class="p">[</span><span class="mi">2</span><span class="p">]],</span>
        <span class="p">)</span>
        <span class="c1"># find face normal</span>
        <span class="n">normal</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span>
        <span class="c1"># determine which face of the cube</span>
        <span class="n">angles</span> <span class="o">=</span> <span class="p">[</span><span class="n">vector_angle</span><span class="p">(</span><span class="n">normal</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">normals</span><span class="p">]</span>
        <span class="n">face_dir</span> <span class="o">=</span> <span class="n">angles</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">angles</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">vmax</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="n">height</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
        <span class="k">if</span> <span class="n">face_dir</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">t1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="p">(</span><span class="n">v1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="p">(</span><span class="n">v2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="n">t3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">width</span>
            <span class="n">s3</span> <span class="o">=</span> <span class="p">(</span><span class="n">v3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">vmin</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="n">depth</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">t1</span><span class="p">,</span> <span class="n">s1</span><span class="p">],</span> <span class="p">[</span><span class="n">t2</span><span class="p">,</span> <span class="n">s2</span><span class="p">],</span> <span class="p">[</span><span class="n">t3</span><span class="p">,</span> <span class="n">s3</span><span class="p">]])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="p">[[</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">u</span><span class="p">,</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">]</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.forward">
    <p>def <span class="ident">forward</span>(</p><p>self, distance)</p>
    </div>
    

    
  
    <div class="desc"><p>Move object forward</p>
<p>This method calculates to motion path according to direction
of the object's matrix. <code>self.matrix[1]</code> indicates the direction.</p>
<p>So matrix position gets updated according to direction * distance</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.forward', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">distance</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Move object forward</span>
<span class="sd">    This method calculates to motion path according to direction</span>
<span class="sd">    of the object&#39;s matrix. `self.matrix[1]` indicates the direction.</span>
<span class="sd">    So matrix position gets updated according to direction * distance</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">scale_vector</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">distance</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">add_vectors</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">diff</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.hide">
    <p>def <span class="ident">hide</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.hide', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.hide" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">hide</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.refresh">
    <p>def <span class="ident">refresh</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Refresh object</p>
<p>Forces object to get built again</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.refresh', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.refresh" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">refresh</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Refresh object</span>
<span class="sd">    Forces object to get built again</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_needs_update</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.render">
    <p>def <span class="ident">render</span>(</p><p>self, proj, view, lights, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Render the Text</p>
<p>This calls the render method of
<code>payton.scene.geometry.base.Object.render</code> then renders the text on top
of the rectangle.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">proj</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">view</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">],</span>
    <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Render the Text</span>
<span class="sd">    This calls the render method of</span>
<span class="sd">    `payton.scene.geometry.base.Object.render` then renders the text on top</span>
<span class="sd">    of the rectangle.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">lights</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.rotate_around_x">
    <p>def <span class="ident">rotate_around_x</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Pitch - Rotate around X axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.rotate_around_x', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.rotate_around_x" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Pitch - Rotate around X axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.rotate_around_y">
    <p>def <span class="ident">rotate_around_y</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Roll - Rotate around Y Axis (Direction)</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.rotate_around_y', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.rotate_around_y" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_y</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Roll - Rotate around Y Axis (Direction)</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.rotate_around_z">
    <p>def <span class="ident">rotate_around_z</span>(</p><p>self, angle)</p>
    </div>
    

    
  
    <div class="desc"><p>Rotate around Z Axis</p>
<p>Args:
  angle: Angle in radians</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.rotate_around_z', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.rotate_around_z" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">rotate_around_z</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Rotate around Z Axis</span>
<span class="sd">    Args:</span>
<span class="sd">      angle: Angle in radians</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rot_matrix</span> <span class="o">=</span> <span class="n">create_rotation_matrix</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">local_matrix</span> <span class="o">=</span> <span class="n">rot_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">local_matrix</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">local_matrix</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.scale">
    <p>def <span class="ident">scale</span>(</p><p>self, x, y, z)</p>
    </div>
    

    
  
    <div class="desc"><p>Scale Mesh by given factors</p>
<p>This does not create a scale matrix and multiply existing matrix
with it. Instead, it will scale the vertices by given factors.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.scale', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.scale" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">z</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Scale Mesh by given factors</span>
<span class="sd">    This does not create a scale matrix and multiply existing matrix</span>
<span class="sd">    with it. Instead, it will scale the vertices by given factors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
        <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">v</span><span class="p">:</span> <span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">y</span><span class="p">,</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">z</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fix_normals</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.select">
    <p>def <span class="ident">select</span>(</p><p>self, start, vector)</p>
    </div>
    

    
  
    <div class="desc"><p>Select test for object using bounding Sphere.</p>
<p>This method is not 100% accurate as it is based on a rough
assumption. Sphere area will be larger than actual object.</p>
<p>If you want to have a more accurate way to handle this, try
using raycast triangle intersect</p>
<p>Args:
  start: Starting point of the ray (such as eye position)
  vector: Ray direction. This is not the end point of a line!
          This is a unit vector showing the ray direction.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.select', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.select" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">vector</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Select test for object using bounding Sphere.</span>
<span class="sd">    This method is not 100% accurate as it is based on a rough</span>
<span class="sd">    assumption. Sphere area will be larger than actual object.</span>
<span class="sd">    If you want to have a more accurate way to handle this, try</span>
<span class="sd">    using raycast triangle intersect</span>
<span class="sd">    Args:</span>
<span class="sd">      start: Starting point of the ray (such as eye position)</span>
<span class="sd">      vector: Ray direction. This is not the end point of a line!</span>
<span class="sd">              This is a unit vector showing the ray direction.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="n">raycast_sphere_intersect</span><span class="p">(</span>
        <span class="n">start</span><span class="p">,</span>
        <span class="n">vector</span><span class="p">,</span>
        <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bounding_radius</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="ow">and</span> <span class="n">x</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_selected</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.set_parent_size">
    <p>def <span class="ident">set_parent_size</span>(</p><p>self, w, h)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.set_parent_size', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.set_parent_size" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">w</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">h</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_width</span> <span class="o">=</span> <span class="n">w</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_parent_height</span> <span class="o">=</span> <span class="n">h</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">cast</span><span class="p">(</span><span class="s2">&quot;Shape2D&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span><span class="o">.</span><span class="n">set_parent_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.show">
    <p>def <span class="ident">show</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.show', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.show" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.step_back">
    <p>def <span class="ident">step_back</span>(</p><p>self, steps=1)</p>
    </div>
    

    
  
    <div class="desc"><p>Go back N step in time</p>
<p>This is suitable for solving collisions and getting a step back.
On the other hand, this function requires <code>track_motion</code> to be
True.</p>
<p>Args:
  steps: Number of steps to go back. (Default = 1)</p>
<p>Returns:
  bool: If step back is successful</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.step_back', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.step_back" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">step_back</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Go back N step in time</span>
<span class="sd">    This is suitable for solving collisions and getting a step back.</span>
<span class="sd">    On the other hand, this function requires `track_motion` to be</span>
<span class="sd">    True.</span>
<span class="sd">    Args:</span>
<span class="sd">      steps: Number of steps to go back. (Default = 1)</span>
<span class="sd">    Returns:</span>
<span class="sd">      bool: If step back is successful</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;track_motion should be True&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">steps</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span><span class="p">]</span>
    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="p">[</span><span class="o">-</span><span class="n">steps</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">:]</span>  <span class="c1"># noqa</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.to_absolute">
    <p>def <span class="ident">to_absolute</span>(</p><p>self, coordinates)</p>
    </div>
    

    
  
    <div class="desc"><p>Return local coordinates (tuple, list) into absolute coordinates in
space.</p>
<p>Args:
  coordinates: List[float] (x, y, z)</p>
<p>Returns:
  List[float] (x', y', z')</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.to_absolute', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.to_absolute" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_absolute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return local coordinates (tuple, list) into absolute coordinates in</span>
<span class="sd">    space.</span>
<span class="sd">    Args:</span>
<span class="sd">      coordinates: List[float] (x, y, z)</span>
<span class="sd">    Returns:</span>
<span class="sd">      List[float] (x&#39;, y&#39;, z&#39;)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">vector_transform</span><span class="p">(</span><span class="n">coordinates</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.to_dict">
    <p>def <span class="ident">to_dict</span>(</p><p>self)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.to_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.to_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;vertices&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertices</span><span class="p">,</span>
        <span class="s2">&quot;normals&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_normals</span><span class="p">,</span>
        <span class="s2">&quot;texcoords&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_texcoords</span><span class="p">,</span>
        <span class="s2">&quot;matrix&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span>
        <span class="s2">&quot;materials&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">mat</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span><span class="p">[</span><span class="n">mat</span><span class="p">]</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span> <span class="k">for</span> <span class="n">mat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">materials</span>
        <span class="p">},</span>
        <span class="s2">&quot;children&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="n">n</span><span class="p">:</span> <span class="n">cast</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">])</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">],</span> <span class="n">Mesh</span><span class="p">)</span>
        <span class="p">},</span>
    <span class="p">}</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.to_json">
    <p>def <span class="ident">to_json</span>(</p><p>self, **kwargs)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.to_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.to_json" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.toggle_wireframe">
    <p>def <span class="ident">toggle_wireframe</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Toggle wireframe view of the Object</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.toggle_wireframe', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.toggle_wireframe" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">toggle_wireframe</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Toggle wireframe view of the Object&quot;&quot;&quot;</span>
    <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span>
    <span class="n">d</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span> <span class="o">%</span> <span class="mi">3</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">display</span> <span class="o">=</span> <span class="n">d</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">toggle_wireframe</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.track">
    <p>def <span class="ident">track</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Track object motion</p>
<p>Returns:
    bool: <code>True</code> on successful tracking of <code>self</code>.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.track', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.track" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Track object motion</span>
<span class="sd">    Returns:</span>
<span class="sd">        bool: `True` on successful tracking of `self`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_motion</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="c1"># Add the new matrix to motion path records</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">))</span>
    <span class="c1"># Add the matrix position to motion math line for visualisation</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_path_line</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
            <span class="p">[[</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]]]</span>
        <span class="p">)</span>
    <span class="c1"># Python trick here! need to .copy or it will pass reference.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_previous_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.update_matrix">
    <p>def <span class="ident">update_matrix</span>(</p><p>self, parent_matrix=None)</p>
    </div>
    

    
  
    <div class="desc"><p>Update matrix</p>
<p>Turn object matrix into numpy array.</p>
<p>Args:
  parent_matrix: Parent objects matrix</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.update_matrix', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.update_matrix" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">update_matrix</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">parent_matrix</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Update matrix</span>
<span class="sd">    Turn object matrix into numpy array.</span>
<span class="sd">    Args:</span>
<span class="sd">      parent_matrix: Parent objects matrix</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Turn matrix into numpy array. Numpy arrays are C Type arrays</span>
    <span class="c1"># suitable for OpenGL Pipeline</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matrix</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="c1"># When there is a parent object, child object follows parents matrix</span>
    <span class="k">if</span> <span class="n">parent_matrix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_matrix</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">parent_matrix</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.gui.Window.bounding_radius" class="name">var <span class="ident">bounding_radius</span></p>
            

            
  
    <div class="desc"><p>Return bounding radius</p>
<p>This property function <em>WILL NOT</em> update the previously
calculated value. If you add vertices to the object, you must call
<code>payton.scene.geometry.base.Object.refresh</code> function to get radius
and the whole object updated.</p>
<p>Returns:
  float</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.direction" class="name">var <span class="ident">direction</span></p>
            

            
  
    <div class="desc"><p>Get direction vector from Matrix</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.font" class="name">var <span class="ident">font</span></p>
            

            
  
    <div class="desc"><p>Font of the shape</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.has_missing_vao" class="name">var <span class="ident">has_missing_vao</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.material" class="name">var <span class="ident">material</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.position" class="name">var <span class="ident">position</span></p>
            

            
  
    <div class="desc"><p>Get position of the Object.</p>
<p>Return matrix position list</p>
<p>Returns:
  List[float]</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.title" class="name">var <span class="ident">title</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.Window.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
    <div class="desc"><p>Check if object is visible</p>
<p>Returns:
  bool: <code>True</code> if visible.</p></div>
  <div class="source_cont">
</div>

            </div>
          <h3>Methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.from_dict">
    <p>def <span class="ident">from_dict</span>(</p><p>cls, d)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.from_dict', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.from_dict" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_vertices</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;vertices&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_normals</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;normals&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">_texcoords</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;texcoords&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">matrix</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;matrix&quot;</span><span class="p">]</span>
    <span class="n">res</span><span class="o">.</span><span class="n">materials</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="n">Material</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;materials&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="n">res</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">n</span><span class="p">:</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">][</span><span class="n">n</span><span class="p">])</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;children&quot;</span><span class="p">]</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.gui.Window.from_json">
    <p>def <span class="ident">from_json</span>(</p><p>cls, jstr)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.Window.from_json', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.Window.from_json" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">jstr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">jstr</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.gui.WindowAlignment" class="name">class <span class="ident">WindowAlignment</span></p>
      
  
    <div class="desc"><p>Window alignment</p>
<p>Note that, in fixed cases (left, top, right, bottom) Width / Height
information will be over-ridden.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.gui.WindowAlignment', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.gui.WindowAlignment" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">WindowAlignment</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Window alignment</span>

<span class="sd">    Note that, in fixed cases (left, top, right, bottom) Width / Height</span>
<span class="sd">    information will be over-ridden.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">FREE</span> <span class="o">=</span> <span class="s2">&quot;free&quot;</span>
    <span class="n">LEFT</span> <span class="o">=</span> <span class="s2">&quot;left&quot;</span>
    <span class="n">TOP</span> <span class="o">=</span> <span class="s2">&quot;top&quot;</span>
    <span class="n">RIGHT</span> <span class="o">=</span> <span class="s2">&quot;right&quot;</span>
    <span class="n">BOTTOM</span> <span class="o">=</span> <span class="s2">&quot;bottom&quot;</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.gui.WindowAlignment">WindowAlignment</a></li>
          <li>enum.Enum</li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.BOTTOM" class="name">var <span class="ident">BOTTOM</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.FREE" class="name">var <span class="ident">FREE</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.LEFT" class="name">var <span class="ident">LEFT</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.RIGHT" class="name">var <span class="ident">RIGHT</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.TOP" class="name">var <span class="ident">TOP</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.name" class="name">var <span class="ident">name</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.gui.WindowAlignment.value" class="name">var <span class="ident">value</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>

    <h2 class="section-title" id="header-submodules">Sub-modules</h2>
      <div class="item">
      <p class="name"><a href="base.m.html">payton.scene.gui.base</a></p>
      
  
    <div class="desc"><p>Graphical User Interface support</p>
<p>GUI Module contains several GUI elements which are all instance of
<code>payton.scene.geometry.mesh.Mesh</code> and mainly, their projection matrices
differ in pipeline.</p>
<p>Example code:</p>
<div class="codehilite"><pre><span></span>.. <span class="k">include</span>:: ..<span class="o">/</span>..<span class="o">/</span><span class="nv">examples</span><span class="o">/</span><span class="nv">basics</span><span class="o">/</span><span class="mi">15</span><span class="nv">_gui</span>.<span class="nv">py</span>
</pre></div></div>

      </div>
      <div class="item">
      <p class="name"><a href="help.m.html">payton.scene.gui.help</a></p>
      
  

      </div>
      <div class="item">
      <p class="name"><a href="window.m.html">payton.scene.gui.window</a></p>
      
  

      </div>
  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
