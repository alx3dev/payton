<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>payton.scene.scene API documentation</title>
    <meta name="description" content="#Payton Scene Module

##Main Scene Module:

* SDL2 Window
  * Scene (`payton.scene`)
    * Geometry ..." />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">
    <li class="set"><h3><a href="#header-variables">Module variables</a></h3>
      
  <ul>
    <li class="mono"><a href="#payton.scene.scene.S">S</a></li>
    <li class="mono"><a href="#payton.scene.scene.background_fragment_shader">background_fragment_shader</a></li>
    <li class="mono"><a href="#payton.scene.scene.background_vertex_shader">background_vertex_shader</a></li>
  </ul>

    </li>


    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.scene.Background">Background</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.scene.Background.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.scene.Background.render">render</a></li>
  </ul>

        </li>
        <li class="mono">
        <span class="class_name"><a href="#payton.scene.scene.Scene">Scene</a></span>
        
          
  <ul>
    <li class="mono"><a href="#payton.scene.scene.Scene.__init__">__init__</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.add_click_plane">add_click_plane</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.add_collision_test">add_collision_test</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.add_object">add_object</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.add_observer">add_observer</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.create_clock">create_clock</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.create_observer">create_observer</a></li>
    <li class="mono"><a href="#payton.scene.scene.Scene.run">run</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">payton.scene.scene</span> module</h1>
  <h1>Payton Scene Module</h1>
<h2>Main Scene Module:</h2>
<ul>
<li>SDL2 Window</li>
<li>Scene (<code>payton.scene</code>)<ul>
<li>Geometry (<code>payton.scene.geometry</code>)</li>
<li>Grid (<code>payton.scene.grid</code>)</li>
<li>Background (<a href="#payton.scene.scene.Background"><code>Background</code></a>)</li>
<li>Clock (<code>payton.scene.clock</code>)</li>
<li>Light (<code>payton.scene.light.Light</code>)</li>
<li>Collision Test (<code>payton.scene.collision.CollisionTest</code>)</li>
<li>Observer (<code>payton.scene.observer.Observer</code>)</li>
</ul>
</li>
</ul>
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene" class="source">
    <div class="codehilite"><pre><span></span><span class="c1"># pylama:ignore=C901</span>
<span class="sd">&quot;&quot;&quot;#Payton Scene Module</span>

<span class="sd">##Main Scene Module:</span>

<span class="sd">* SDL2 Window</span>
<span class="sd">  * Scene (`payton.scene`)</span>
<span class="sd">    * Geometry (`payton.scene.geometry`)</span>
<span class="sd">    * Grid (`payton.scene.grid`)</span>
<span class="sd">    * Background (`payton.scene.scene.Background`)</span>
<span class="sd">    * Clock (`payton.scene.clock`)</span>
<span class="sd">    * Light (`payton.scene.light.Light`)</span>
<span class="sd">    * Collision Test (`payton.scene.collision.CollisionTest`)</span>
<span class="sd">    * Observer (`payton.scene.observer.Observer`)</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">ctypes</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">TypeVar</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>  <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">sdl2</span>
<span class="kn">from</span> <span class="nn">OpenGL.GL</span> <span class="kn">import</span> <span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="p">,</span> <span class="n">GL_DEPTH_BUFFER_BIT</span><span class="p">,</span> <span class="n">GL_DEPTH_TEST</span><span class="p">,</span>
                       <span class="n">GL_LESS</span><span class="p">,</span> <span class="n">GL_TRIANGLES</span><span class="p">,</span> <span class="n">glBindVertexArray</span><span class="p">,</span> <span class="n">glClear</span><span class="p">,</span>
                       <span class="n">glDepthFunc</span><span class="p">,</span> <span class="n">glDisable</span><span class="p">,</span> <span class="n">glDrawArrays</span><span class="p">,</span> <span class="n">glEnable</span><span class="p">,</span>
                       <span class="n">glGenVertexArrays</span><span class="p">,</span> <span class="n">glViewport</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">payton.math.geometry</span> <span class="kn">import</span> <span class="n">raycast_plane_intersect</span>
<span class="kn">from</span> <span class="nn">payton.scene.clock</span> <span class="kn">import</span> <span class="n">Clock</span>
<span class="kn">from</span> <span class="nn">payton.scene.collision</span> <span class="kn">import</span> <span class="n">CollisionTest</span>
<span class="kn">from</span> <span class="nn">payton.scene.controller</span> <span class="kn">import</span> <span class="n">Controller</span>
<span class="kn">from</span> <span class="nn">payton.scene.geometry.base</span> <span class="kn">import</span> <span class="n">Object</span>
<span class="kn">from</span> <span class="nn">payton.scene.grid</span> <span class="kn">import</span> <span class="n">Grid</span>
<span class="kn">from</span> <span class="nn">payton.scene.gui</span> <span class="kn">import</span> <span class="n">Hud</span><span class="p">,</span> <span class="n">Shape2D</span>
<span class="kn">from</span> <span class="nn">payton.scene.gui.help</span> <span class="kn">import</span> <span class="n">help_win</span>
<span class="kn">from</span> <span class="nn">payton.scene.light</span> <span class="kn">import</span> <span class="n">Light</span>
<span class="kn">from</span> <span class="nn">payton.scene.observer</span> <span class="kn">import</span> <span class="n">Observer</span>
<span class="kn">from</span> <span class="nn">payton.scene.receiver</span> <span class="kn">import</span> <span class="n">Receiver</span>
<span class="kn">from</span> <span class="nn">payton.scene.shader</span> <span class="kn">import</span> <span class="p">(</span><span class="n">Shader</span><span class="p">,</span> <span class="n">background_fragment_shader</span><span class="p">,</span>
                                 <span class="n">background_vertex_shader</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">payton.scene.types</span> <span class="kn">import</span> <span class="n">CPlane</span>

<span class="n">S</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;S&quot;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="s2">&quot;Scene&quot;</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Scene</span><span class="p">(</span><span class="n">Receiver</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main Payton scene.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span>
        <span class="n">on_select</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the Payton Scene</span>
<span class="sd">        There is no parameters here. Every class property must be explicitly</span>
<span class="sd">        defined.</span>

<span class="sd">        Simplest form of usage:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            a = Scene()</span>
<span class="sd">            a.run()</span>

<span class="sd">        on_select sample:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            from payton.scene.geometry import Cube</span>

<span class="sd">            def select(objects):</span>
<span class="sd">                print(objects)</span>
<span class="sd">                for obj in objects:</span>
<span class="sd">                    obj.material.color = [1.0, 0.0, 0.0]</span>

<span class="sd">            scene = Scene(on_select=select)</span>
<span class="sd">            cube1 = Cube()</span>

<span class="sd">            scene.add_object(&#39;cube1&#39;, cube1)</span>

<span class="sd">            scene.run()</span>

<span class="sd">        Args:</span>
<span class="sd">          width: Window width</span>
<span class="sd">          height: Window height</span>
<span class="sd">          on_select: On object select callback function. Controller passes</span>
<span class="sd">        selected objects in a list as the first parameter of the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># All objects list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Object</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># All Huds (Heads Up Display)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Hud</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;_help&quot;</span><span class="p">:</span> <span class="n">Hud</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="s2">&quot;_help&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="n">help_win</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="s2">&quot;_help&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="c1"># List of observers (cameras) in the scene. There can be only</span>
        <span class="c1"># one active observer at a time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observer</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Observer</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hudcam</span> <span class="o">=</span> <span class="n">Observer</span><span class="p">(</span>
            <span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
            <span class="n">up</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">perspective</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Instead of looping through observers to find the active</span>
        <span class="c1"># observer, we are keeping the known index to avoid redundant</span>
        <span class="c1"># loops.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_observer</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Light</span><span class="p">())</span>

        <span class="c1"># List of all clocks. Clocks are time based function holders which</span>
        <span class="c1"># animate objects in the scene or do other stuff.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Clock</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">Background</span><span class="p">()</span>

        <span class="c1"># SDL Related Stuff</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mouse</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shift_down</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ctrl_down</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rotate</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CollisionTest</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CPlane</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">on_select</span> <span class="o">=</span> <span class="n">on_select</span>
        <span class="c1"># Main running state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">add_click_plane</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">plane_point</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">plane_normal</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add click plane to the scene</span>

<span class="sd">        A Click Plane is a meta object which is basically an infinite sized 2D</span>
<span class="sd">        plane intersecting with plane_point and has a normal as plane_normal.</span>
<span class="sd">        Click Plane has a callback function which gets called when user</span>
<span class="sd">        mouse click intersects with the Click Plane.</span>

<span class="sd">        You can think of Click Plane as a piece of paper on the scene where you</span>
<span class="sd">        can use to draw things on. Clicking on this meta plane will give you</span>
<span class="sd">        exact location of your mouse click which intersects with the plane.</span>

<span class="sd">        Click Plane is an invisible plane.</span>

<span class="sd">        Example usecase:</span>
<span class="sd">            .. include:: ../../examples/basics/21_click_plane.py</span>

<span class="sd">        Args:</span>
<span class="sd">          plane_point: A Point inside Plane (eg: `[0.0, 0.0, 0.0]`)</span>
<span class="sd">          plane_normal: Normal of the plane (eg: `[0.0, 0.0, 1.0]`)</span>
<span class="sd">          callback: Callback function to be called with intersection point</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pn</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">plane_point</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pp</span><span class="p">,</span> <span class="n">pn</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_check_click_plane</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">eye</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">vector</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">click_plane</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="p">:</span>
            <span class="n">hit</span> <span class="o">=</span> <span class="n">raycast_plane_intersect</span><span class="p">(</span>
                <span class="n">eye</span><span class="p">,</span> <span class="n">vector</span><span class="p">,</span> <span class="n">click_plane</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">click_plane</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">hit</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">click_plane</span><span class="p">[</span><span class="mi">2</span><span class="p">](</span><span class="n">hit</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render the whole scene here. Note that, this is a private function and</span>
<span class="sd">        should not be overriden unless you really know what you are dealing</span>
<span class="sd">        with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Disable Depth Test to draw background at the very back of the scene</span>
        <span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span> <span class="o">|</span> <span class="n">GL_DEPTH_BUFFER_BIT</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
        <span class="n">glDepthFunc</span><span class="p">(</span><span class="n">GL_LESS</span><span class="p">)</span>

        <span class="n">proj</span><span class="p">,</span> <span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_observer</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="nb">object</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">)</span>

        <span class="k">for</span> <span class="nb">object</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">for</span> <span class="n">test</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="p">:</span>
            <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span>
        <span class="k">if</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">add_collision_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">:</span> <span class="n">CollisionTest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add collision test to the scene</span>

<span class="sd">        See `payton.scene.collision` module for details on collision</span>

<span class="sd">        Args:</span>
<span class="sd">          tester: Instance of `payton.scene.collision.CollisionTest`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span> <span class="n">CollisionTest</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;tester must be an instance of CollisionTest&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tester</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add object to the scene root.</span>

<span class="sd">        Args:</span>
<span class="sd">          name: Name of the object, must be unique within its&#39; scope.</span>
<span class="sd">          obj: Object must be an instance of</span>
<span class="sd">               `payton.scene.geometry.base.Object`</span>

<span class="sd">        Return:</span>
<span class="sd">          bool: False in case of an error.</span>

<span class="sd">        Example usage:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            from payton.scene.geometry import Cube</span>

<span class="sd">            my_scene = Scene()</span>
<span class="sd">            cube = Cube()</span>
<span class="sd">            my_scene.add_object(&#39;cube&#39;, cube)</span>
<span class="sd">            my_scene.run()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Object</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Given object is not an instance of `scene.Object`&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Given object name [{name}] already exists&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Shape2D</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;2D Shapes can&#39;t be added directly to the scene&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Hud</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Huds must be rendered in a different loop after rendering</span>
<span class="sd">            all objects&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                    <span class="c1"># Wait for render loop to release the lock</span>
                    <span class="c1"># TODO: This can cause a possible deadlock.</span>
                    <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                <span class="c1"># Wait for render loop to release the lock</span>
                <span class="c1"># TODO: This can cause a possible deadlock.</span>
                <span class="k">continue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">add_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Observer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add observer to the scene. Observer must be an instance of</span>
<span class="sd">        `payton.scene.observer.Observer`</span>
<span class="sd">        Generally this is not needed as scene has already a default observer.</span>

<span class="sd">        Args:</span>
<span class="sd">          obj: Observer object, instance of `payton.scene.observer.Observer`</span>

<span class="sd">        Return:</span>
<span class="sd">          bool: False in case of an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Observer</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Observer is not an instance of `scene.Observer`&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">active_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Observer</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return active observer</span>

<span class="sd">        Returns:</span>
<span class="sd">          observer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_observer</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">create_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new observer in the scene and add to scene observers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Observer</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">create_clock</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">period</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="bp">None</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a clock in the scene. This is the preffered way to create a</span>
<span class="sd">        clock in the scene as it binds the clock to the scene by itself.</span>

<span class="sd">        Args:</span>
<span class="sd">          name: Name of the clock. Must be unique within the scene.</span>
<span class="sd">          period: Period of the clock (in seconds), time between each iteration</span>
<span class="sd">          callback: Callback function to call in each iteration. Callback</span>
<span class="sd">        function must have these arguments:</span>
<span class="sd">            period: Period of the clock (time difference between iterations)</span>
<span class="sd">            total: Total time elapsed from the beginning.</span>

<span class="sd">        Example usage:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            from payton.scene.clock import Clock</span>

<span class="sd">            def time_counter_callback(period, total):</span>
<span class="sd">                print(&quot;Total time passed since beginning {}secs&quot;.format(total))</span>

<span class="sd">            my_scene = Scene()</span>
<span class="sd">            my_scene.create_clock(&#39;time_counter&#39;, 1.0, time_counter_callback)</span>
<span class="sd">            print(&quot;Hit space to start clock&quot;)</span>
<span class="sd">            my_scene.run()</span>

<span class="sd">        Result output to console:</span>

<span class="sd">            Total time passed since beginning 0secs</span>
<span class="sd">            Total time passed since beginning 1.0secs</span>
<span class="sd">            Total time passed since beginning 2.0secs</span>
<span class="sd">            Total time passed since beginning 3.0secs</span>
<span class="sd">            Total time passed since beginning 4.0secs</span>
<span class="sd">            Total time passed since beginning 5.0secs</span>
<span class="sd">            Total time passed since beginning 6.0secs</span>
<span class="sd">            Total time passed since beginning 7.0secs</span>
<span class="sd">            Total time passed since beginning 8.0secs</span>
<span class="sd">            Total time passed since beginning 9.0secs</span>
<span class="sd">            Total time passed since beginning 10.0secs</span>
<span class="sd">            ...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;A clock named {name} already exists&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">c</span> <span class="o">=</span> <span class="n">Clock</span><span class="p">(</span><span class="n">period</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run scene.</span>

<span class="sd">        This is a complex function and needs some refactoring.</span>
<span class="sd">        Here is the logic and flow behind this function:</span>

<span class="sd">        1. Initialize SDL</span>
<span class="sd">        2. Create SDL window with given parameters enabling OpenGL Pipeline</span>
<span class="sd">        3. Create and set active context as OpenGL Context</span>
<span class="sd">        4. Set running flag.</span>
<span class="sd">        5. Fix aspect ratios of observers *aka cameras* in the scene.</span>
<span class="sd">        6. Start scene loop.</span>
<span class="sd">            1. Poll for SDL events</span>
<span class="sd">            2. React to SDL events *(quit, key press, key up, mouse motion</span>
<span class="sd">               etc)*</span>
<span class="sd">            3. Render scene, turn to step 6.1 if not quit</span>
<span class="sd">        7. Destroy objects and clear memory.</span>
<span class="sd">        8. Destroy window and such.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Init</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_INIT_VIDEO</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_MAJOR_VERSION</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_MINOR_VERSION</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_PROFILE_MASK</span><span class="p">,</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_PROFILE_CORE</span>
        <span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_MULTISAMPLEBUFFERS</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_MULTISAMPLESAMPLES</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_CreateWindow</span><span class="p">(</span>
            <span class="sa">b</span><span class="s2">&quot;Payton Scene&quot;</span><span class="p">,</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWPOS_UNDEFINED</span><span class="p">,</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWPOS_UNDEFINED</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">),</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOW_OPENGL</span> <span class="o">|</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOW_RESIZABLE</span><span class="p">,</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CreateContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetSwapInterval</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Event</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="c1"># Fix aspect ratios of observers</span>
        <span class="k">for</span> <span class="n">observer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
            <span class="n">observer</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">*</span> <span class="mf">1.0</span>
            <span class="p">)</span>
        <span class="k">for</span> <span class="n">hud</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">hud</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">clock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">clock</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_PollEvent</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWEVENT</span>
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">event</span> <span class="o">==</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWEVENT_RESIZED</span>
                <span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">data1</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">data2</span>
                    <span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
                        <span class="n">ob</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span>
                        <span class="p">)</span>
                    <span class="k">for</span> <span class="n">hud</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="n">hud</span><span class="p">]</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span>
                        <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">mouse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_render</span><span class="p">()</span>

            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SwapWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Delay</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">clock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">clock</span><span class="p">]</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>

        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_DeleteContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_DestroyWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Quit</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">0</span>


<span class="k">class</span> <span class="nc">Background</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Background is a special object</span>

<span class="sd">    Only used by Scene and used for once. It has a special place in the render</span>
<span class="sd">    pipeline. This is the first object to be rendered in each cycle and before</span>
<span class="sd">    rendering this object, Scene disables depth test. So, every other element</span>
<span class="sd">    in the scene can be drawn on top of this background.</span>

<span class="sd">    (Shader code and idea derived from the original work of:</span>
<span class="sd">    https://www.cs.princeton.edu/~mhalber/blog/ogl_gradient/)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">top_color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">bottom_color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize background</span>

<span class="sd">        Args:</span>
<span class="sd">          top_color: Color at the top of the scene screen</span>
<span class="sd">          bottom_color: Color at the bottom of the screen</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_color</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="k">if</span> <span class="n">top_color</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">top_color</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_color</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span><span class="mf">0.6275</span><span class="p">,</span> <span class="mf">0.6275</span><span class="p">,</span> <span class="mf">0.6275</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">bottom_color</span> <span class="ow">is</span> <span class="bp">None</span>
            <span class="k">else</span> <span class="n">bottom_color</span>
        <span class="p">)</span>
        <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;top_color&quot;</span><span class="p">,</span> <span class="s2">&quot;bot_color&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span> <span class="o">=</span> <span class="n">Shader</span><span class="p">(</span>
            <span class="n">fragment</span><span class="o">=</span><span class="n">background_fragment_shader</span><span class="p">,</span>
            <span class="n">vertex</span><span class="o">=</span><span class="n">background_vertex_shader</span><span class="p">,</span>
            <span class="n">variables</span><span class="o">=</span><span class="n">variables</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Render background of the scene&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">glDisable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">use</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">set_vector4_np</span><span class="p">(</span>
            <span class="s2">&quot;top_color&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_color</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">set_vector4_np</span><span class="p">(</span>
            <span class="s2">&quot;bot_color&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_color</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">glDrawArrays</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
        <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">
    <h2 class="section-title" id="header-variables">Module variables</h2>
      <div class="item">
      <p id="payton.scene.scene.S" class="name">var <span class="ident">S</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="payton.scene.scene.background_fragment_shader" class="name">var <span class="ident">background_fragment_shader</span></p>
      
  
  <div class="source_cont">
</div>

      </div>
      <div class="item">
      <p id="payton.scene.scene.background_vertex_shader" class="name">var <span class="ident">background_vertex_shader</span></p>
      
  
  <div class="source_cont">
</div>

      </div>


    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="payton.scene.scene.Background" class="name">class <span class="ident">Background</span></p>
      
  
    <div class="desc"><p>Background is a special object</p>
<p>Only used by Scene and used for once. It has a special place in the render
pipeline. This is the first object to be rendered in each cycle and before
rendering this object, Scene disables depth test. So, every other element
in the scene can be drawn on top of this background.</p>
<p>(Shader code and idea derived from the original work of:
https://www.cs.princeton.edu/~mhalber/blog/ogl_gradient/)</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Background', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Background" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Background</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Background is a special object</span>

<span class="sd">    Only used by Scene and used for once. It has a special place in the render</span>
<span class="sd">    pipeline. This is the first object to be rendered in each cycle and before</span>
<span class="sd">    rendering this object, Scene disables depth test. So, every other element</span>
<span class="sd">    in the scene can be drawn on top of this background.</span>

<span class="sd">    (Shader code and idea derived from the original work of:</span>
<span class="sd">    https://www.cs.princeton.edu/~mhalber/blog/ogl_gradient/)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">top_color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="n">bottom_color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize background</span>

<span class="sd">        Args:</span>
<span class="sd">          top_color: Color at the top of the scene screen</span>
<span class="sd">          bottom_color: Color at the bottom of the screen</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">top_color</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="k">if</span> <span class="n">top_color</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">top_color</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bottom_color</span> <span class="o">=</span> <span class="p">(</span>
            <span class="p">[</span><span class="mf">0.6275</span><span class="p">,</span> <span class="mf">0.6275</span><span class="p">,</span> <span class="mf">0.6275</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">bottom_color</span> <span class="ow">is</span> <span class="bp">None</span>
            <span class="k">else</span> <span class="n">bottom_color</span>
        <span class="p">)</span>
        <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;top_color&quot;</span><span class="p">,</span> <span class="s2">&quot;bot_color&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span> <span class="o">=</span> <span class="n">Shader</span><span class="p">(</span>
            <span class="n">fragment</span><span class="o">=</span><span class="n">background_fragment_shader</span><span class="p">,</span>
            <span class="n">vertex</span><span class="o">=</span><span class="n">background_vertex_shader</span><span class="p">,</span>
            <span class="n">variables</span><span class="o">=</span><span class="n">variables</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Render background of the scene&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
            <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">glDisable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">use</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">set_vector4_np</span><span class="p">(</span>
            <span class="s2">&quot;top_color&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_color</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">set_vector4_np</span><span class="p">(</span>
            <span class="s2">&quot;bot_color&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_color</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="n">glDrawArrays</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
        <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.scene.Background">Background</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Background.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, top_color=None, bottom_color=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize background</p>
<p>Args:
  top_color: Color at the top of the scene screen
  bottom_color: Color at the bottom of the screen</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Background.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Background.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">top_color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="n">bottom_color</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize background</span>
<span class="sd">    Args:</span>
<span class="sd">      top_color: Color at the top of the scene screen</span>
<span class="sd">      bottom_color: Color at the bottom of the screen</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">top_color</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span> <span class="k">if</span> <span class="n">top_color</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">top_color</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bottom_color</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">[</span><span class="mf">0.6275</span><span class="p">,</span> <span class="mf">0.6275</span><span class="p">,</span> <span class="mf">0.6275</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">bottom_color</span> <span class="ow">is</span> <span class="bp">None</span>
        <span class="k">else</span> <span class="n">bottom_color</span>
    <span class="p">)</span>
    <span class="n">variables</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;top_color&quot;</span><span class="p">,</span> <span class="s2">&quot;bot_color&quot;</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span> <span class="o">=</span> <span class="n">Shader</span><span class="p">(</span>
        <span class="n">fragment</span><span class="o">=</span><span class="n">background_fragment_shader</span><span class="p">,</span>
        <span class="n">vertex</span><span class="o">=</span><span class="n">background_vertex_shader</span><span class="p">,</span>
        <span class="n">variables</span><span class="o">=</span><span class="n">variables</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">visible</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Background.render">
    <p>def <span class="ident">render</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Render background of the scene</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Background.render', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Background.render" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Render background of the scene&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">visible</span><span class="p">:</span>
        <span class="k">return</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vao</span> <span class="o">=</span> <span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
        <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">glDisable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">use</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">set_vector4_np</span><span class="p">(</span>
        <span class="s2">&quot;top_color&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">top_color</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">set_vector4_np</span><span class="p">(</span>
        <span class="s2">&quot;bot_color&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bottom_color</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vao</span><span class="p">)</span>
    <span class="n">glDrawArrays</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_shader</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
    <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.scene.Background.bottom_color" class="name">var <span class="ident">bottom_color</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Background.top_color" class="name">var <span class="ident">top_color</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Background.visible" class="name">var <span class="ident">visible</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>
      
      <div class="item">
      <p id="payton.scene.scene.Scene" class="name">class <span class="ident">Scene</span></p>
      
  
    <div class="desc"><p>Main Payton scene.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Scene</span><span class="p">(</span><span class="n">Receiver</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Main Payton scene.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span>
        <span class="n">on_select</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the Payton Scene</span>
<span class="sd">        There is no parameters here. Every class property must be explicitly</span>
<span class="sd">        defined.</span>

<span class="sd">        Simplest form of usage:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            a = Scene()</span>
<span class="sd">            a.run()</span>

<span class="sd">        on_select sample:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            from payton.scene.geometry import Cube</span>

<span class="sd">            def select(objects):</span>
<span class="sd">                print(objects)</span>
<span class="sd">                for obj in objects:</span>
<span class="sd">                    obj.material.color = [1.0, 0.0, 0.0]</span>

<span class="sd">            scene = Scene(on_select=select)</span>
<span class="sd">            cube1 = Cube()</span>

<span class="sd">            scene.add_object(&#39;cube1&#39;, cube1)</span>

<span class="sd">            scene.run()</span>

<span class="sd">        Args:</span>
<span class="sd">          width: Window width</span>
<span class="sd">          height: Window height</span>
<span class="sd">          on_select: On object select callback function. Controller passes</span>
<span class="sd">        selected objects in a list as the first parameter of the function.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># All objects list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Object</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c1"># All Huds (Heads Up Display)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Hud</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;_help&quot;</span><span class="p">:</span> <span class="n">Hud</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="s2">&quot;_help&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="n">help_win</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="s2">&quot;_help&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="c1"># List of observers (cameras) in the scene. There can be only</span>
        <span class="c1"># one active observer at a time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observer</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Observer</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hudcam</span> <span class="o">=</span> <span class="n">Observer</span><span class="p">(</span>
            <span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
            <span class="n">up</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">perspective</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># Instead of looping through observers to find the active</span>
        <span class="c1"># observer, we are keeping the known index to avoid redundant</span>
        <span class="c1"># loops.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_active_observer</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Light</span><span class="p">())</span>

        <span class="c1"># List of all clocks. Clocks are time based function holders which</span>
        <span class="c1"># animate objects in the scene or do other stuff.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Clock</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">Background</span><span class="p">()</span>

        <span class="c1"># SDL Related Stuff</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mouse</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_shift_down</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ctrl_down</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rotate</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CollisionTest</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CPlane</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">on_select</span> <span class="o">=</span> <span class="n">on_select</span>
        <span class="c1"># Main running state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">add_click_plane</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">plane_point</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">plane_normal</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span> <span class="n">Any</span><span class="p">],</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add click plane to the scene</span>

<span class="sd">        A Click Plane is a meta object which is basically an infinite sized 2D</span>
<span class="sd">        plane intersecting with plane_point and has a normal as plane_normal.</span>
<span class="sd">        Click Plane has a callback function which gets called when user</span>
<span class="sd">        mouse click intersects with the Click Plane.</span>

<span class="sd">        You can think of Click Plane as a piece of paper on the scene where you</span>
<span class="sd">        can use to draw things on. Clicking on this meta plane will give you</span>
<span class="sd">        exact location of your mouse click which intersects with the plane.</span>

<span class="sd">        Click Plane is an invisible plane.</span>

<span class="sd">        Example usecase:</span>
<span class="sd">            .. include:: ../../examples/basics/21_click_plane.py</span>

<span class="sd">        Args:</span>
<span class="sd">          plane_point: A Point inside Plane (eg: `[0.0, 0.0, 0.0]`)</span>
<span class="sd">          plane_normal: Normal of the plane (eg: `[0.0, 0.0, 1.0]`)</span>
<span class="sd">          callback: Callback function to be called with intersection point</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">pn</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span>
        <span class="n">pp</span> <span class="o">=</span> <span class="n">plane_point</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pp</span><span class="p">,</span> <span class="n">pn</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">_check_click_plane</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">eye</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> <span class="n">vector</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">click_plane</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="p">:</span>
            <span class="n">hit</span> <span class="o">=</span> <span class="n">raycast_plane_intersect</span><span class="p">(</span>
                <span class="n">eye</span><span class="p">,</span> <span class="n">vector</span><span class="p">,</span> <span class="n">click_plane</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">click_plane</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="n">hit</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="n">click_plane</span><span class="p">[</span><span class="mi">2</span><span class="p">](</span><span class="n">hit</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">_render</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Render the whole scene here. Note that, this is a private function and</span>
<span class="sd">        should not be overriden unless you really know what you are dealing</span>
<span class="sd">        with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Disable Depth Test to draw background at the very back of the scene</span>
        <span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span> <span class="o">|</span> <span class="n">GL_DEPTH_BUFFER_BIT</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">background</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
        <span class="n">glEnable</span><span class="p">(</span><span class="n">GL_DEPTH_TEST</span><span class="p">)</span>
        <span class="n">glDepthFunc</span><span class="p">(</span><span class="n">GL_LESS</span><span class="p">)</span>

        <span class="n">proj</span><span class="p">,</span> <span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">active_observer</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">for</span> <span class="nb">object</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">)</span>

        <span class="k">for</span> <span class="nb">object</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="nb">object</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">proj</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">for</span> <span class="n">test</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="p">:</span>
            <span class="n">test</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span>
        <span class="k">if</span> <span class="n">diff</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">add_collision_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">:</span> <span class="n">CollisionTest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Add collision test to the scene</span>

<span class="sd">        See `payton.scene.collision` module for details on collision</span>

<span class="sd">        Args:</span>
<span class="sd">          tester: Instance of `payton.scene.collision.CollisionTest`</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span> <span class="n">CollisionTest</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;tester must be an instance of CollisionTest&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tester</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add object to the scene root.</span>

<span class="sd">        Args:</span>
<span class="sd">          name: Name of the object, must be unique within its&#39; scope.</span>
<span class="sd">          obj: Object must be an instance of</span>
<span class="sd">               `payton.scene.geometry.base.Object`</span>

<span class="sd">        Return:</span>
<span class="sd">          bool: False in case of an error.</span>

<span class="sd">        Example usage:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            from payton.scene.geometry import Cube</span>

<span class="sd">            my_scene = Scene()</span>
<span class="sd">            cube = Cube()</span>
<span class="sd">            my_scene.add_object(&#39;cube&#39;, cube)</span>
<span class="sd">            my_scene.run()</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Object</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Given object is not an instance of `scene.Object`&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Given object name [{name}] already exists&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Shape2D</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;2D Shapes can&#39;t be added directly to the scene&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Hud</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Huds must be rendered in a different loop after rendering</span>
<span class="sd">            all objects&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                    <span class="c1"># Wait for render loop to release the lock</span>
                    <span class="c1"># TODO: This can cause a possible deadlock.</span>
                    <span class="k">continue</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">True</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                <span class="c1"># Wait for render loop to release the lock</span>
                <span class="c1"># TODO: This can cause a possible deadlock.</span>
                <span class="k">continue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">add_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Observer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add observer to the scene. Observer must be an instance of</span>
<span class="sd">        `payton.scene.observer.Observer`</span>
<span class="sd">        Generally this is not needed as scene has already a default observer.</span>

<span class="sd">        Args:</span>
<span class="sd">          obj: Observer object, instance of `payton.scene.observer.Observer`</span>

<span class="sd">        Return:</span>
<span class="sd">          bool: False in case of an error.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Observer</span><span class="p">):</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Observer is not an instance of `scene.Observer`&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">active_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Observer</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Return active observer</span>

<span class="sd">        Returns:</span>
<span class="sd">          observer</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_observer</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">create_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new observer in the scene and add to scene observers.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Observer</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">create_clock</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">period</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="bp">None</span><span class="p">],</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates a clock in the scene. This is the preffered way to create a</span>
<span class="sd">        clock in the scene as it binds the clock to the scene by itself.</span>

<span class="sd">        Args:</span>
<span class="sd">          name: Name of the clock. Must be unique within the scene.</span>
<span class="sd">          period: Period of the clock (in seconds), time between each iteration</span>
<span class="sd">          callback: Callback function to call in each iteration. Callback</span>
<span class="sd">        function must have these arguments:</span>
<span class="sd">            period: Period of the clock (time difference between iterations)</span>
<span class="sd">            total: Total time elapsed from the beginning.</span>

<span class="sd">        Example usage:</span>

<span class="sd">            from payton.scene import Scene</span>
<span class="sd">            from payton.scene.clock import Clock</span>

<span class="sd">            def time_counter_callback(period, total):</span>
<span class="sd">                print(&quot;Total time passed since beginning {}secs&quot;.format(total))</span>

<span class="sd">            my_scene = Scene()</span>
<span class="sd">            my_scene.create_clock(&#39;time_counter&#39;, 1.0, time_counter_callback)</span>
<span class="sd">            print(&quot;Hit space to start clock&quot;)</span>
<span class="sd">            my_scene.run()</span>

<span class="sd">        Result output to console:</span>

<span class="sd">            Total time passed since beginning 0secs</span>
<span class="sd">            Total time passed since beginning 1.0secs</span>
<span class="sd">            Total time passed since beginning 2.0secs</span>
<span class="sd">            Total time passed since beginning 3.0secs</span>
<span class="sd">            Total time passed since beginning 4.0secs</span>
<span class="sd">            Total time passed since beginning 5.0secs</span>
<span class="sd">            Total time passed since beginning 6.0secs</span>
<span class="sd">            Total time passed since beginning 7.0secs</span>
<span class="sd">            Total time passed since beginning 8.0secs</span>
<span class="sd">            Total time passed since beginning 9.0secs</span>
<span class="sd">            Total time passed since beginning 10.0secs</span>
<span class="sd">            ...</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;A clock named {name} already exists&quot;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">c</span> <span class="o">=</span> <span class="n">Clock</span><span class="p">(</span><span class="n">period</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run scene.</span>

<span class="sd">        This is a complex function and needs some refactoring.</span>
<span class="sd">        Here is the logic and flow behind this function:</span>

<span class="sd">        1. Initialize SDL</span>
<span class="sd">        2. Create SDL window with given parameters enabling OpenGL Pipeline</span>
<span class="sd">        3. Create and set active context as OpenGL Context</span>
<span class="sd">        4. Set running flag.</span>
<span class="sd">        5. Fix aspect ratios of observers *aka cameras* in the scene.</span>
<span class="sd">        6. Start scene loop.</span>
<span class="sd">            1. Poll for SDL events</span>
<span class="sd">            2. React to SDL events *(quit, key press, key up, mouse motion</span>
<span class="sd">               etc)*</span>
<span class="sd">            3. Render scene, turn to step 6.1 if not quit</span>
<span class="sd">        7. Destroy objects and clear memory.</span>
<span class="sd">        8. Destroy window and such.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Init</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_INIT_VIDEO</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_MAJOR_VERSION</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_MINOR_VERSION</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_PROFILE_MASK</span><span class="p">,</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_PROFILE_CORE</span>
        <span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_MULTISAMPLEBUFFERS</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_MULTISAMPLESAMPLES</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_CreateWindow</span><span class="p">(</span>
            <span class="sa">b</span><span class="s2">&quot;Payton Scene&quot;</span><span class="p">,</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWPOS_UNDEFINED</span><span class="p">,</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWPOS_UNDEFINED</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">),</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOW_OPENGL</span> <span class="o">|</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOW_RESIZABLE</span><span class="p">,</span>
        <span class="p">)</span>  <span class="c1"># type: ignore</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">:</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CreateContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetSwapInterval</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">event</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Event</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="bp">True</span>

        <span class="c1"># Fix aspect ratios of observers</span>
        <span class="k">for</span> <span class="n">observer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
            <span class="n">observer</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">*</span> <span class="mf">1.0</span>
            <span class="p">)</span>
        <span class="k">for</span> <span class="n">hud</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
            <span class="n">hud</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">clock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">clock</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
            <span class="k">while</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_PollEvent</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWEVENT</span>
                    <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">event</span> <span class="o">==</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWEVENT_RESIZED</span>
                <span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">data1</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">data2</span>
                    <span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>

                    <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
                        <span class="n">ob</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span>
                        <span class="p">)</span>
                    <span class="k">for</span> <span class="n">hud</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="n">hud</span><span class="p">]</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span>
                        <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">mouse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_render</span><span class="p">()</span>

            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SwapWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
            <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Delay</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">clock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">clock</span><span class="p">]</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>

        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_DeleteContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_DestroyWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Quit</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">0</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#payton.scene.scene.Scene">Scene</a></li>
          <li>payton.scene.receiver.Receiver</li>
          <li>builtins.object</li>
          </ul>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self, width=800, height=600, on_select=None, **kwargs)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize the Payton Scene
There is no parameters here. Every class property must be explicitly
defined.</p>
<p>Simplest form of usage:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">payton.scene</span> <span class="kn">import</span> <span class="n">Scene</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Scene</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>


<p>on_select sample:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">payton.scene</span> <span class="kn">import</span> <span class="n">Scene</span>
<span class="kn">from</span> <span class="nn">payton.scene.geometry</span> <span class="kn">import</span> <span class="n">Cube</span>

<span class="k">def</span> <span class="nf">select</span><span class="p">(</span><span class="n">objects</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">objects</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">objects</span><span class="p">:</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>

<span class="n">scene</span> <span class="o">=</span> <span class="n">Scene</span><span class="p">(</span><span class="n">on_select</span><span class="o">=</span><span class="n">select</span><span class="p">)</span>
<span class="n">cube1</span> <span class="o">=</span> <span class="n">Cube</span><span class="p">()</span>

<span class="n">scene</span><span class="o">.</span><span class="n">add_object</span><span class="p">(</span><span class="s1">&#39;cube1&#39;</span><span class="p">,</span> <span class="n">cube1</span><span class="p">)</span>

<span class="n">scene</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>


<p>Args:
  width: Window width
  height: Window height
  on_select: On object select callback function. Controller passes
selected objects in a list as the first parameter of the function.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.__init__', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">800</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span>
    <span class="n">on_select</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Payton Scene</span>
<span class="sd">    There is no parameters here. Every class property must be explicitly</span>
<span class="sd">    defined.</span>
<span class="sd">    Simplest form of usage:</span>
<span class="sd">        from payton.scene import Scene</span>
<span class="sd">        a = Scene()</span>
<span class="sd">        a.run()</span>
<span class="sd">    on_select sample:</span>
<span class="sd">        from payton.scene import Scene</span>
<span class="sd">        from payton.scene.geometry import Cube</span>
<span class="sd">        def select(objects):</span>
<span class="sd">            print(objects)</span>
<span class="sd">            for obj in objects:</span>
<span class="sd">                obj.material.color = [1.0, 0.0, 0.0]</span>
<span class="sd">        scene = Scene(on_select=select)</span>
<span class="sd">        cube1 = Cube()</span>
<span class="sd">        scene.add_object(&#39;cube1&#39;, cube1)</span>
<span class="sd">        scene.run()</span>
<span class="sd">    Args:</span>
<span class="sd">      width: Window width</span>
<span class="sd">      height: Window height</span>
<span class="sd">      on_select: On object select callback function. Controller passes</span>
<span class="sd">    selected objects in a list as the first parameter of the function.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># All objects list</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Object</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># All Huds (Heads Up Display)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Hud</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;_help&quot;</span><span class="p">:</span> <span class="n">Hud</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">)}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="s2">&quot;_help&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">add_child</span><span class="p">(</span><span class="s2">&quot;help&quot;</span><span class="p">,</span> <span class="n">help_win</span><span class="p">())</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="s2">&quot;_help&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__fps_counter</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fps</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">__timer</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
    <span class="c1"># List of observers (cameras) in the scene. There can be only</span>
    <span class="c1"># one active observer at a time</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Observer</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Observer</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">hudcam</span> <span class="o">=</span> <span class="n">Observer</span><span class="p">(</span>
        <span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">position</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
        <span class="n">up</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="n">perspective</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># Instead of looping through observers to find the active</span>
    <span class="c1"># observer, we are keeping the known index to avoid redundant</span>
    <span class="c1"># loops.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_active_observer</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Light</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lights</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Light</span><span class="p">())</span>
    <span class="c1"># List of all clocks. Clocks are time based function holders which</span>
    <span class="c1"># animate objects in the scene or do other stuff.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Clock</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">grid</span> <span class="o">=</span> <span class="n">Grid</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">controller</span> <span class="o">=</span> <span class="n">Controller</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">background</span> <span class="o">=</span> <span class="n">Background</span><span class="p">()</span>
    <span class="c1"># SDL Related Stuff</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">=</span> <span class="n">width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">=</span> <span class="n">height</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_mouse</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_shift_down</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ctrl_down</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rotate</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CollisionTest</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">CPlane</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">on_select</span> <span class="o">=</span> <span class="n">on_select</span>
    <span class="c1"># Main running state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.add_click_plane">
    <p>def <span class="ident">add_click_plane</span>(</p><p>self, plane_point, plane_normal, callback)</p>
    </div>
    

    
  
    <div class="desc"><p>Add click plane to the scene</p>
<p>A Click Plane is a meta object which is basically an infinite sized 2D
plane intersecting with plane_point and has a normal as plane_normal.
Click Plane has a callback function which gets called when user
mouse click intersects with the Click Plane.</p>
<p>You can think of Click Plane as a piece of paper on the scene where you
can use to draw things on. Clicking on this meta plane will give you
exact location of your mouse click which intersects with the plane.</p>
<p>Click Plane is an invisible plane.</p>
<p>Example usecase:
    .. include:: ../../examples/basics/21_click_plane.py</p>
<p>Args:
  plane_point: A Point inside Plane (eg: <code>[0.0, 0.0, 0.0]</code>)
  plane_normal: Normal of the plane (eg: <code>[0.0, 0.0, 1.0]</code>)
  callback: Callback function to be called with intersection point</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.add_click_plane', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.add_click_plane" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_click_plane</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">plane_point</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="n">plane_normal</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">List</span><span class="p">[</span><span class="nb">float</span><span class="p">]],</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Add click plane to the scene</span>
<span class="sd">    A Click Plane is a meta object which is basically an infinite sized 2D</span>
<span class="sd">    plane intersecting with plane_point and has a normal as plane_normal.</span>
<span class="sd">    Click Plane has a callback function which gets called when user</span>
<span class="sd">    mouse click intersects with the Click Plane.</span>
<span class="sd">    You can think of Click Plane as a piece of paper on the scene where you</span>
<span class="sd">    can use to draw things on. Clicking on this meta plane will give you</span>
<span class="sd">    exact location of your mouse click which intersects with the plane.</span>
<span class="sd">    Click Plane is an invisible plane.</span>
<span class="sd">    Example usecase:</span>
<span class="sd">        .. include:: ../../examples/basics/21_click_plane.py</span>
<span class="sd">    Args:</span>
<span class="sd">      plane_point: A Point inside Plane (eg: `[0.0, 0.0, 0.0]`)</span>
<span class="sd">      plane_normal: Normal of the plane (eg: `[0.0, 0.0, 1.0]`)</span>
<span class="sd">      callback: Callback function to be called with intersection point</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pn</span> <span class="o">=</span> <span class="n">plane_normal</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span>
    <span class="n">pp</span> <span class="o">=</span> <span class="n">plane_point</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_click_planes</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">pp</span><span class="p">,</span> <span class="n">pn</span><span class="p">,</span> <span class="n">callback</span><span class="p">))</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.add_collision_test">
    <p>def <span class="ident">add_collision_test</span>(</p><p>self, tester)</p>
    </div>
    

    
  
    <div class="desc"><p>Add collision test to the scene</p>
<p>See <code>payton.scene.collision</code> module for details on collision</p>
<p>Args:
  tester: Instance of <code>payton.scene.collision.CollisionTest</code></p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.add_collision_test', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.add_collision_test" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_collision_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tester</span><span class="p">:</span> <span class="n">CollisionTest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Add collision test to the scene</span>
<span class="sd">    See `payton.scene.collision` module for details on collision</span>
<span class="sd">    Args:</span>
<span class="sd">      tester: Instance of `payton.scene.collision.CollisionTest`</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">tester</span><span class="p">,</span> <span class="n">CollisionTest</span><span class="p">):</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;tester must be an instance of CollisionTest&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_collision_detectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tester</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.add_object">
    <p>def <span class="ident">add_object</span>(</p><p>self, name, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add object to the scene root.</p>
<p>Args:
  name: Name of the object, must be unique within its' scope.
  obj: Object must be an instance of
       <code>payton.scene.geometry.base.Object</code></p>
<p>Return:
  bool: False in case of an error.</p>
<p>Example usage:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">payton.scene</span> <span class="kn">import</span> <span class="n">Scene</span>
<span class="kn">from</span> <span class="nn">payton.scene.geometry</span> <span class="kn">import</span> <span class="n">Cube</span>

<span class="n">my_scene</span> <span class="o">=</span> <span class="n">Scene</span><span class="p">()</span>
<span class="n">cube</span> <span class="o">=</span> <span class="n">Cube</span><span class="p">()</span>
<span class="n">my_scene</span><span class="o">.</span><span class="n">add_object</span><span class="p">(</span><span class="s1">&#39;cube&#39;</span><span class="p">,</span> <span class="n">cube</span><span class="p">)</span>
<span class="n">my_scene</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.add_object', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.add_object" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_object</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add object to the scene root.</span>
<span class="sd">    Args:</span>
<span class="sd">      name: Name of the object, must be unique within its&#39; scope.</span>
<span class="sd">      obj: Object must be an instance of</span>
<span class="sd">           `payton.scene.geometry.base.Object`</span>
<span class="sd">    Return:</span>
<span class="sd">      bool: False in case of an error.</span>
<span class="sd">    Example usage:</span>
<span class="sd">        from payton.scene import Scene</span>
<span class="sd">        from payton.scene.geometry import Cube</span>
<span class="sd">        my_scene = Scene()</span>
<span class="sd">        cube = Cube()</span>
<span class="sd">        my_scene.add_object(&#39;cube&#39;, cube)</span>
<span class="sd">        my_scene.run()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Object</span><span class="p">):</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Given object is not an instance of `scene.Object`&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Given object name [{name}] already exists&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Shape2D</span><span class="p">):</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;2D Shapes can&#39;t be added directly to the scene&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Hud</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Huds must be rendered in a different loop after rendering</span>
<span class="sd">        all objects&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
                <span class="c1"># Wait for render loop to release the lock</span>
                <span class="c1"># TODO: This can cause a possible deadlock.</span>
                <span class="k">continue</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">_render_lock</span><span class="p">:</span>
            <span class="c1"># Wait for render loop to release the lock</span>
            <span class="c1"># TODO: This can cause a possible deadlock.</span>
            <span class="k">continue</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">obj</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.add_observer">
    <p>def <span class="ident">add_observer</span>(</p><p>self, obj)</p>
    </div>
    

    
  
    <div class="desc"><p>Add observer to the scene. Observer must be an instance of
<code>payton.scene.observer.Observer</code>
Generally this is not needed as scene has already a default observer.</p>
<p>Args:
  obj: Observer object, instance of <code>payton.scene.observer.Observer</code></p>
<p>Return:
  bool: False in case of an error.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.add_observer', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.add_observer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">add_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">:</span> <span class="n">Observer</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add observer to the scene. Observer must be an instance of</span>
<span class="sd">    `payton.scene.observer.Observer`</span>
<span class="sd">    Generally this is not needed as scene has already a default observer.</span>
<span class="sd">    Args:</span>
<span class="sd">      obj: Observer object, instance of `payton.scene.observer.Observer`</span>
<span class="sd">    Return:</span>
<span class="sd">      bool: False in case of an error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">Observer</span><span class="p">):</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Observer is not an instance of `scene.Observer`&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.create_clock">
    <p>def <span class="ident">create_clock</span>(</p><p>self, name, period, callback)</p>
    </div>
    

    
  
    <div class="desc"><p>Creates a clock in the scene. This is the preffered way to create a
clock in the scene as it binds the clock to the scene by itself.</p>
<p>Args:
  name: Name of the clock. Must be unique within the scene.
  period: Period of the clock (in seconds), time between each iteration
  callback: Callback function to call in each iteration. Callback
function must have these arguments:
    period: Period of the clock (time difference between iterations)
    total: Total time elapsed from the beginning.</p>
<p>Example usage:</p>
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">payton.scene</span> <span class="kn">import</span> <span class="n">Scene</span>
<span class="kn">from</span> <span class="nn">payton.scene.clock</span> <span class="kn">import</span> <span class="n">Clock</span>

<span class="k">def</span> <span class="nf">time_counter_callback</span><span class="p">(</span><span class="n">period</span><span class="p">,</span> <span class="n">total</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Total time passed since beginning {}secs&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">total</span><span class="p">))</span>

<span class="n">my_scene</span> <span class="o">=</span> <span class="n">Scene</span><span class="p">()</span>
<span class="n">my_scene</span><span class="o">.</span><span class="n">create_clock</span><span class="p">(</span><span class="s1">&#39;time_counter&#39;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">time_counter_callback</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Hit space to start clock&quot;</span><span class="p">)</span>
<span class="n">my_scene</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>


<p>Result output to console:</p>
<div class="codehilite"><pre><span></span><span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">2</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">3</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">4</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">5</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">6</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">9</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="n">Total</span> <span class="n">time</span> <span class="n">passed</span> <span class="n">since</span> <span class="n">beginning</span> <span class="mi">10</span><span class="p">.</span><span class="mi">0</span><span class="n">secs</span>
<span class="p">...</span>
</pre></div></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.create_clock', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.create_clock" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">create_clock</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">period</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="n">callback</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">],</span> <span class="bp">None</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a clock in the scene. This is the preffered way to create a</span>
<span class="sd">    clock in the scene as it binds the clock to the scene by itself.</span>
<span class="sd">    Args:</span>
<span class="sd">      name: Name of the clock. Must be unique within the scene.</span>
<span class="sd">      period: Period of the clock (in seconds), time between each iteration</span>
<span class="sd">      callback: Callback function to call in each iteration. Callback</span>
<span class="sd">    function must have these arguments:</span>
<span class="sd">        period: Period of the clock (time difference between iterations)</span>
<span class="sd">        total: Total time elapsed from the beginning.</span>
<span class="sd">    Example usage:</span>
<span class="sd">        from payton.scene import Scene</span>
<span class="sd">        from payton.scene.clock import Clock</span>
<span class="sd">        def time_counter_callback(period, total):</span>
<span class="sd">            print(&quot;Total time passed since beginning {}secs&quot;.format(total))</span>
<span class="sd">        my_scene = Scene()</span>
<span class="sd">        my_scene.create_clock(&#39;time_counter&#39;, 1.0, time_counter_callback)</span>
<span class="sd">        print(&quot;Hit space to start clock&quot;)</span>
<span class="sd">        my_scene.run()</span>
<span class="sd">    Result output to console:</span>
<span class="sd">        Total time passed since beginning 0secs</span>
<span class="sd">        Total time passed since beginning 1.0secs</span>
<span class="sd">        Total time passed since beginning 2.0secs</span>
<span class="sd">        Total time passed since beginning 3.0secs</span>
<span class="sd">        Total time passed since beginning 4.0secs</span>
<span class="sd">        Total time passed since beginning 5.0secs</span>
<span class="sd">        Total time passed since beginning 6.0secs</span>
<span class="sd">        Total time passed since beginning 7.0secs</span>
<span class="sd">        Total time passed since beginning 8.0secs</span>
<span class="sd">        Total time passed since beginning 9.0secs</span>
<span class="sd">        Total time passed since beginning 10.0secs</span>
<span class="sd">        ...</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;A clock named {name} already exists&quot;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">Clock</span><span class="p">(</span><span class="n">period</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.create_observer">
    <p>def <span class="ident">create_observer</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Create a new observer in the scene and add to scene observers.</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.create_observer', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.create_observer" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">create_observer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new observer in the scene and add to scene observers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Observer</span><span class="p">())</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="payton.scene.scene.Scene.run">
    <p>def <span class="ident">run</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Run scene.</p>
<p>This is a complex function and needs some refactoring.
Here is the logic and flow behind this function:</p>
<ol>
<li>Initialize SDL</li>
<li>Create SDL window with given parameters enabling OpenGL Pipeline</li>
<li>Create and set active context as OpenGL Context</li>
<li>Set running flag.</li>
<li>Fix aspect ratios of observers <em>aka cameras</em> in the scene.</li>
<li>Start scene loop.<ol>
<li>Poll for SDL events</li>
<li>React to SDL events <em>(quit, key press, key up, mouse motion
   etc)</em></li>
<li>Render scene, turn to step 6.1 if not quit</li>
</ol>
</li>
<li>Destroy objects and clear memory.</li>
<li>Destroy window and such.</li>
</ol></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-payton.scene.scene.Scene.run', this);">Show source &equiv;</a></p>
  <div id="source-payton.scene.scene.Scene.run" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run scene.</span>
<span class="sd">    This is a complex function and needs some refactoring.</span>
<span class="sd">    Here is the logic and flow behind this function:</span>
<span class="sd">    1. Initialize SDL</span>
<span class="sd">    2. Create SDL window with given parameters enabling OpenGL Pipeline</span>
<span class="sd">    3. Create and set active context as OpenGL Context</span>
<span class="sd">    4. Set running flag.</span>
<span class="sd">    5. Fix aspect ratios of observers *aka cameras* in the scene.</span>
<span class="sd">    6. Start scene loop.</span>
<span class="sd">        1. Poll for SDL events</span>
<span class="sd">        2. React to SDL events *(quit, key press, key up, mouse motion</span>
<span class="sd">           etc)*</span>
<span class="sd">        3. Render scene, turn to step 6.1 if not quit</span>
<span class="sd">    7. Destroy objects and clear memory.</span>
<span class="sd">    8. Destroy window and such.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Init</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_INIT_VIDEO</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_MAJOR_VERSION</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_MINOR_VERSION</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_PROFILE_MASK</span><span class="p">,</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CONTEXT_PROFILE_CORE</span>
    <span class="p">)</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_MULTISAMPLEBUFFERS</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetAttribute</span><span class="p">(</span><span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_MULTISAMPLESAMPLES</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_CreateWindow</span><span class="p">(</span>
        <span class="sa">b</span><span class="s2">&quot;Payton Scene&quot;</span><span class="p">,</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWPOS_UNDEFINED</span><span class="p">,</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWPOS_UNDEFINED</span><span class="p">,</span>
        <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">),</span>
        <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">),</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOW_OPENGL</span> <span class="o">|</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOW_RESIZABLE</span><span class="p">,</span>
    <span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_CreateContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SetSwapInterval</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">event</span> <span class="o">=</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Event</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">running</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="c1"># Fix aspect ratios of observers</span>
    <span class="k">for</span> <span class="n">observer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
        <span class="n">observer</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">*</span> <span class="mf">1.0</span>
        <span class="p">)</span>
    <span class="k">for</span> <span class="n">hud</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">hud</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">clock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">clock</span><span class="p">]</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">running</span><span class="p">:</span>
        <span class="k">while</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_PollEvent</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">))</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWEVENT</span>
                <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">event</span> <span class="o">==</span> <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_WINDOWEVENT_RESIZED</span>
            <span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">data1</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">data2</span>
                <span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">ob</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">observers</span><span class="p">:</span>
                    <span class="n">ob</span><span class="o">.</span><span class="n">aspect_ratio</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span>
                    <span class="p">)</span>
                <span class="k">for</span> <span class="n">hud</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">huds</span><span class="p">[</span><span class="n">hud</span><span class="p">]</span><span class="o">.</span><span class="n">set_size</span><span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">window_width</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_height</span>
                    <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">keyboard</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">controller</span><span class="o">.</span><span class="n">mouse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">event</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_render</span><span class="p">()</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_SwapWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
        <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Delay</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objects</span><span class="p">[</span><span class="n">obj</span><span class="p">]</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">clock</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clocks</span><span class="p">[</span><span class="n">clock</span><span class="p">]</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_GL_DeleteContext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_context</span><span class="p">)</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_DestroyWindow</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">sdl2</span><span class="o">.</span><span class="n">SDL_Quit</span><span class="p">()</span>
    <span class="k">return</span> <span class="mi">0</span>
</pre></div>

  </div>
</div>

  </div>
  
          <h3>Instance variables</h3>
            <div class="item">
            <p id="payton.scene.scene.Scene.active_observer" class="name">var <span class="ident">active_observer</span></p>
            

            
  
    <div class="desc"><p>Return active observer</p>
<p>Returns:
  observer</p></div>
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.background" class="name">var <span class="ident">background</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.controller" class="name">var <span class="ident">controller</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.fps" class="name">var <span class="ident">fps</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.grid" class="name">var <span class="ident">grid</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.hudcam" class="name">var <span class="ident">hudcam</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.on_select" class="name">var <span class="ident">on_select</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.running" class="name">var <span class="ident">running</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.window" class="name">var <span class="ident">window</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.window_height" class="name">var <span class="ident">window_height</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="payton.scene.scene.Scene.window_width" class="name">var <span class="ident">window_width</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
